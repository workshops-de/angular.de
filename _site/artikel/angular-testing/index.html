<!DOCTYPE html>
<html lang="de">

<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#">
  <meta charset="utf-8">
  <link rel="dns-prefetch" href="//www.google-analytics.com">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="keywords" content="">

  <title>Tests in Angular - 9 Beispiele zeigen dir, wie es geht | Angular.DE</title>
  
  <meta name="description" content="Wie teste ich meine Angular Anwendung? Wir zeigen dir in 9 leicht zu befolgenden Beispielen wie ihr Services, Komponenten und alle weiteren Konzepte testet.">
  

  
  <!-- Use canonical_url if available is post -->
  
  <link rel="canonical" href="http://localhost:4000/artikel/angular-testing/">
  
  

  

  <!-- Facebook Tags -->

  <meta name="og:title" content="Tests in Angular - 9 Beispiele zeigen dir, wie es geht - Angular.DE">



  <meta property="og:description" content="Wie teste ich meine Angular Anwendung? Wir zeigen dir in 9 leicht zu befolgenden Beispielen wie ihr Services, Komponenten und alle weiteren Konzepte testet.">


<meta property="og:url" content="http://localhost:4000/artikel/angular-testing/" />

  <meta property="og:type" content="article" />



  <meta property="og:image" content="http://localhost:4000/opengraph/default.png" />


<!-- Twitter Tags -->
<meta name="twitter:card" content="summary_large_image">


  <meta name="twitter:title" content="Tests in Angular - 9 Beispiele zeigen dir, wie es geht - Angular.DE">


<meta name="twitter:site" content="@angular_de">
<meta name="twitter:creator" content="@angular_de">

  <meta name="twitter:description" content="Wie teste ich meine Angular Anwendung? Wir zeigen dir in 9 leicht zu befolgenden Beispielen wie ihr Services, Komponenten und alle weiteren Konzepte testet.">


  <meta name="twitter:image" content="http://localhost:4000/artikel/angular-testing/header.jpg">



  <link rel="icon" href="/assets/img/favicon.ico?v=2" type="image/x-icon" />
  <link rel="stylesheet" href="/assets/css/app.css?1750255920177315000">
  
  <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "url": "http://localhost:4000",
  "logo": "http://localhost:4000/assets/img/logo.svg",
  "sameAs":[
    "https://twitter.com/angular_de"
  ]
}
</script>
  
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "http://localhost:4000"
    },
    
      
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Artikel",
      "item": "http://localhost:4000/artikel/"
    },
      
    
      
    {
      "@type": "ListItem",
      "position": 3,
      "name": "Tests in Angular - 9 Beispiele zeigen dir, wie es geht"
    }
      
    
  ]
}
</script>
</head>

<!-- Position relative is for Bootstrap TOC Plugin -->

<body style="position: relative" data-bs-spy="scroll" data-bs-target="#toc">
  <div class="navbar-wrapper">
  
  <div class="navbar-banner">
    <div class="d-flex align-items-center justify-content-center">
      <a href="https://workshops.de/schulungsthemen/angular?utm_source=angular_de&utm_campaign=group_discount&utm_medium=portal&utm_content=banner" target="_blank">Wir bieten einen <b>3=2 Rabatt</b> auf Schulungen an! Buche 2 Teilnehmer:innen und der/die Dritte ist kostenfrei.</a>
    </div>
  </div>



  <nav class="navbar navbar-main navbar-expand-lg">
    <div class="container">
      <a class="navbar-brand p-0 me-4" href="/">
        <img alt="Angular.DE powered by workshops.de" src="/assets/img/logo-with-poweredby.svg" height="45">
      </a>
      <button class="navbar-toggler navbar-toggler-right" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse mt-3 mt-sm-0" id="navbarNav">
        <ul class="navbar-nav me-auto">
          <li class="nav-item active">
            <a class="nav-link" href="/artikel/">Artikel</a>
          </li>
          <li class="nav-item ">
            <a class="nav-link" href="/artikel/angular-tutorial-deutsch/">Tutorial</a>
          </li>
          <li class="nav-item ">
            <a class="nav-link" href="/schulungen/angular-intensiv/">Schulung</a>
          </li>
          <!-- <li class="nav-item">
            <a class="nav-link" href="https://workshops.de/seminare-schulungen-kurse/angular-lifetime?utm_source=angular_de&utm_campaign=crossmarketing_permanent&utm_medium=portal&utm_content=navigation" target="_blank">Lifetime</a>
          </li>-->
          <li class="nav-item ">
            <a class="nav-link" href="/ng-de-konferenz/">NG-DE Konferenz</a>
          </li>
          <li class="nav-item ">
            <a class="nav-link" href="/team/">Team</a>
          </li>
          <!-- <li class="nav-item">
            <a class="nav-link" href="/discord" target="_blank"><span class="visually-hidden">Community </span>Discord</a>
          </li> -->
          <!-- <li class="nav-item ">
            <a class="nav-link" href="/jobs/">Jobs</a>
          </li> -->
        </ul>
        <form class="form-inline d-none d-lg-inline" action="/suche/" method="GET">
          <input name="q" class="form-control navbar-search" type="search" placeholder="&#xF002;" autocomplete="off">
        </form>
      </div>
    </div><!-- .container -->
  </nav>
</div>


  


<main role="main" class="mt-4">
  <article lang="de" class="container">

    <div class="ratio mb-4" style="--bs-aspect-ratio: 30%;">
      <img src="header.jpg" class="rounded w-100 object-fit-cover" alt="Artikel Header Bild zu Tests in Angular - 9 Beispiele zeigen dir, wie es geht" />
    </div>
    <div class="row mb-5 gx-6">
      <div class="col-md-12 col-lg-8 mb-2">
        <h1 class="header-post-title">Tests in Angular - 9 Beispiele zeigen dir, wie es geht</h1>

        <p class="text-muted">
          <small>
            
            <a href="/kategorie/angular/" class="badge bg-secondary text-bg-secondary text-uppercase">angular</a>
            
            <a href="/kategorie/testing/" class="badge bg-secondary text-bg-secondary text-uppercase">testing</a>
            
            <a href="/kategorie/advanced/" class="badge bg-secondary text-bg-secondary text-uppercase">advanced</a>
            
            <span class="ms-1 me-1">|</span>
            Gerard Sans
            
            
            <span class="ms-1 me-1">•</span> <time>13.09.2017</time>
            <span class="ms-1 me-1">|</span>
            


  30 Minuten


          </small>
        </p>


        <div class="c-content">
          <p>In diesem Artikel wollen wir die gängigsten Unit-Tests für Angular Anwendungen, wie zum Beispiel Komponenten, Services, Http und Pipes abdecken.
Wir werden aber auch weniger bekannte Bereiche, wie <code class="language-plaintext highlighter-rouge">Directives</code>, <code class="language-plaintext highlighter-rouge">Routes</code> und <code class="language-plaintext highlighter-rouge">Testen</code> von <code class="language-plaintext highlighter-rouge">Observables</code> behandeln.
Als Referenz und Basis für deine eigenen Tests stellen wir dir kleine Beispiele vor.
Weiterhin haben wir eine Testing-Checkliste, um bei der Erstellung deiner eigenen Tests ein einfachen Leitfaden zu bieten.</p>

<p>Testen wurde von ReleaseCandidate(RC) von Angular Version 2 bis zur ersten Final ziemlich stark verbessert.
Durch den Umstieg auf <code class="language-plaintext highlighter-rouge">NgModule</code> haben sich weiterhin viele Sachen im Bereich testen vereinfacht.
Das CoreTeam von Angular hat hart gearbeitet, um Boilerplate-Code zu reduzieren und neben Jasmine auch andere Test-Frameworks wie Mocha zu unterstützen.</p>

<p>In diesem Artikel werden wir folgendes abdecken:</p>

<ul>
  <li>
    <p>Einführung in Jasmine: <code class="language-plaintext highlighter-rouge">suites</code>, <code class="language-plaintext highlighter-rouge">specs</code>, <code class="language-plaintext highlighter-rouge">exprectations</code> und <code class="language-plaintext highlighter-rouge">matchers</code>…</p>
  </li>
  <li>
    <p>Testen in Angular: <code class="language-plaintext highlighter-rouge">setup</code>, <code class="language-plaintext highlighter-rouge">dependency injection</code> und testing checklist</p>
  </li>
  <li>
    <p>Testing-Utilities: <code class="language-plaintext highlighter-rouge">TestBed</code>, <code class="language-plaintext highlighter-rouge">inject</code>, <code class="language-plaintext highlighter-rouge">fixtures</code>, <code class="language-plaintext highlighter-rouge">async</code>, <code class="language-plaintext highlighter-rouge">fakeAsync/tick</code> und <code class="language-plaintext highlighter-rouge">jasmine.done()</code>.</p>
  </li>
  <li>
    <p>Testbeispiele: <code class="language-plaintext highlighter-rouge">Components</code>, <code class="language-plaintext highlighter-rouge">Services</code>, <code class="language-plaintext highlighter-rouge">Http+MockBackend</code>, <code class="language-plaintext highlighter-rouge">Directives</code>, <code class="language-plaintext highlighter-rouge">Pipes</code>, <code class="language-plaintext highlighter-rouge">Routes</code>, <code class="language-plaintext highlighter-rouge">Observables</code> und <code class="language-plaintext highlighter-rouge">EventEmitter</code>.</p>
  </li>
</ul>

<p>Alle 26 Test-Specs zum selber ausprobieren und ändern findest du in diesem <a href="https://plnkr.co/edit/jm6T17qPbzM8abmRMckw?preview" rel="noreferrer noopener" target="_blank">Plunker</a>.</p>

<p><em>„Wir haben in diesem Beispielen <a href="https://jasmine.github.io/" rel="noreferrer noopener" target="_blank">Jasmine</a> verwendet, es ist aber problemlos Möglich auch andere Test-Frameworks wie <a href="https://mochajs.org/" rel="noreferrer noopener" target="_blank">Mocha</a> zu verwenden.</em></p>

<h2 id="einführung-in-jasmine">Einführung in Jasmine</h2>

<p>Jasmine ist ein Open-Source-Test-Framwork.
Die verwendete DSL(domain specific language) verfolgt die Grundsätze des behaviour-driven-developments, somit ist es sehr leicht hiermit natürlich-sprachliche Tests zu definieren.</p>

<h3 id="generelle-konzepte-der-jasmine-dsl">Generelle Konzepte der Jasmine-DSL</h3>

<p><strong>Suites</strong> – <code class="language-plaintext highlighter-rouge">describe(String, function)</code> - Eine Suite definiert ein logischen Abschnitt von Spezifikationen. Sie wird mit einem Titel und einer Funktion aufgerufen, welche Spezifikationen oder auch weitere Suits enthalten kann.</p>

<p><strong>Specs</strong> – <code class="language-plaintext highlighter-rouge">it(string, function)</code> Eine Spec wird mit <code class="language-plaintext highlighter-rouge">it</code> eingeleitet. Auch hier definieren wir ein Titel über den ersten Parameter. Der zweite Parameter erwartet eine Funktion welche dann die tatsächlichen technischen Erwartungen(Expectations) enthält.</p>

<p><strong>Expectations</strong> <code class="language-plaintext highlighter-rouge">expect(actual).toBe(expected)</code> – Eine Expectation(Erwartung) ist die technische Implementierung deines Tests, die letztendlich einfach nach <code class="language-plaintext highlighter-rouge">true</code> oder <code class="language-plaintext highlighter-rouge">false</code> auswertet.</p>

<p><strong>Matchers</strong> – sind vordefinierte Helfer für gemeinsame Expectations. z.B.: <code class="language-plaintext highlighter-rouge">toBe(expected)</code>, <code class="language-plaintext highlighter-rouge">toEqual(expected).</code> <a href="https://github.com/JamieMason/Jasmine-Matchers" rel="noreferrer noopener" target="_blank">Hier</a> findest du die komplette Liste.</p>

<p><em>“Beachte, dass <code class="language-plaintext highlighter-rouge">toEqual()</code> einen tiefen Objekt-Match macht, hier wird also der Inhalt von zwei Objekten verglichen. Die Funktion <code class="language-plaintext highlighter-rouge">.toBe()</code> prüft auf Referenzgleichheit. Also: Ist <code class="language-plaintext highlighter-rouge">actual</code> und <code class="language-plaintext highlighter-rouge">expected</code> das gleiche Objekt</em></p>

<p><em>“Wenn ihr nur eine Submenge eurer Test ausführen wollt könnt ihr innerhalb euerer Tests auf diese Tests einen Fokus setzen.
 Die Aufrufe heißen dann <code class="language-plaintext highlighter-rouge">fdescribe()</code> bzw. <code class="language-plaintext highlighter-rouge">fit()</code> - das f steht für Fokus!
 Eine deutlich bessere Alternative als bei großen Testsuites sehr lange zu warten oder gar Tests auszukommentieren.
 Allerdings sollten diese Funktionen nur bei euch lokal und temporär genutzt werden und nicht in euer Repository wandern, da ihr sonst andere Personen im Team oder euerer CI die Möglichkeit nehmt alle Tests auszuführen und Chaos erzeugt.”</em></p>

<h3 id="setup-und-teardown">Setup und Teardown</h3>

<p>Manchmal haben wir eine Summe von Tests, welche gleichen oder ähnliche Vorbedingungen haben z.B. ein bestimmten Zustand unser Directive oder eines Services.</p>

<p>Jasmine bietet dir vier Handler an, um unseren Setup- und Teardown-Code für Tests zu definieren:</p>
<ul>
  <li>
<code class="language-plaintext highlighter-rouge">beforeEach</code>, <code class="language-plaintext highlighter-rouge">afterEach</code> einmal pro Spec (<code class="language-plaintext highlighter-rouge">it</code>)</li>
  <li>
<code class="language-plaintext highlighter-rouge">beforeAll</code>, <code class="language-plaintext highlighter-rouge">afterAll</code> einmal pro Test-Suite (<code class="language-plaintext highlighter-rouge">describe</code>)</li>
</ul>

<h3 id="testen-einrichtung">Testen Einrichtung</h3>

<p>Für die Einrichtung von Jasmine gibt es verschiedene Optionen.
In echten Entwicklungs-Umgebungen solltet ihr eure Test-Run-Konfiguration über Test-Runner wie <a href="https://karma-runner.github.io/1.0/index.html" rel="noreferrer noopener" target="_blank">Karma</a> managen.
In unseren Beispiel nutzen wir dies nicht, da wir uns auf die eigentlich Angular-Tests konzentieren wollen und nicht auf Tools wie Karma und Co.
Darum laufen unsere Tests hier über eine <code class="language-plaintext highlighter-rouge">SpecRunner.html</code>.
Schauen wir uns diese Datei also einmal an.</p>

<p><em>„Dieses Setup ist nur als Referenz anzusehen und wird nur mit Plunker funktionieren“</em></p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">&lt;!-- Jasmine dependencies --&gt;</span>
<span class="nt">&lt;link</span> <span class="na">href=</span><span class="s">"https://cdnjs.cloudflare.com/ajax/libs/jasmine/2.4.1/jasmine.css"</span> <span class="nt">/&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdnjs.cloudflare.com/ajax/libs/jasmine/2.4.1/jasmine.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdnjs.cloudflare.com/ajax/libs/jasmine/2.4.1/jasmine-html.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://cdnjs.cloudflare.com/ajax/libs/jasmine/2.4.1/boot.js"</span><span class="nt">&gt;&lt;/script&gt;</span>

<span class="c">&lt;!-- Angular dependencies --&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://unpkg.com/zone.js/dist/zone.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://unpkg.com/zone.js/dist/long-stack-trace-zone.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://unpkg.com/reflect-metadata@0.1.3/Reflect.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://unpkg.com/systemjs@0.19.31/dist/system.js"</span><span class="nt">&gt;&lt;/script&gt;</span>

<span class="c">&lt;!-- Angular testing dependencies --&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://unpkg.com/zone.js/dist/proxy.js?main=browser"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://unpkg.com/zone.js/dist/sync-test.js?main=browser"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://unpkg.com/zone.js/dist/jasmine-patch.js?main=browser"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://unpkg.com/zone.js@0.6.25/dist/async-test.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"https://unpkg.com/zone.js/dist/fake-async-test.js?main=browser"</span><span class="nt">&gt;&lt;/script&gt;</span>

<span class="nt">&lt;script </span><span class="na">src=</span><span class="s">"config.js"</span><span class="nt">&gt;&lt;/script&gt;</span>
<span class="nt">&lt;script&gt;</span>
  <span class="c1">//load all dependencies at the same time</span>
  <span class="nb">Promise</span><span class="p">.</span><span class="nf">all</span><span class="p">([</span>
    <span class="c1">//required to test on browser</span>
    <span class="nx">System</span><span class="p">.</span><span class="k">import</span><span class="p">(</span><span class="dl">'</span><span class="s1">src/setup.spec</span><span class="dl">'</span><span class="p">),</span>
    <span class="c1">//specs</span>
    <span class="nx">System</span><span class="p">.</span><span class="k">import</span><span class="p">(</span><span class="dl">'</span><span class="s1">src/languagesService.spec</span><span class="dl">'</span><span class="p">),</span>
    <span class="p">...</span>
  <span class="p">]).</span><span class="nf">then</span><span class="p">(</span><span class="kd">function</span><span class="p">(</span><span class="nx">modules</span><span class="p">)</span> <span class="p">{</span>
    <span class="c1">//manually trigger Jasmine test-runner</span>
    <span class="nb">window</span><span class="p">.</span><span class="nf">onload</span><span class="p">();</span>
  <span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="nx">console</span><span class="p">.</span><span class="nx">error</span><span class="p">.</span><span class="nf">bind</span><span class="p">(</span><span class="nx">console</span><span class="p">));</span>
<span class="nt">&lt;/script&gt;</span>

</code></pre></div></div>
<p>Informationen zu unserem Plunker-Test-Setup:</p>

<ul>
  <li>Laden von Jasmine-Abhängigkeiten gefolgt von Angular-Abhängigkeiten.</li>
  <li>Wir verwenden ein <code class="language-plaintext highlighter-rouge">System.js</code> und <code class="language-plaintext highlighter-rouge">TypeScript</code> Setup.</li>
  <li>Wir laden über <code class="language-plaintext highlighter-rouge">System.import</code> unsere Tests</li>
  <li>Mit <code class="language-plaintext highlighter-rouge">Promise.all()</code> lösen wir den Jasmine-Test-Runner manuell aus, indem  wir <code class="language-plaintext highlighter-rouge">onload</code> aufrufen.</li>
</ul>

<p>Dies sollte uns aber an dieser Stelle nicht weiter interessieren und nur als kurze Erklärung dienen.</p>

<h2 id="kurzerklärung-testen-in-angular">Kurzerklärung: Testen in Angular</h2>

<h3 id="testen-mit-dependency-injection-di">Testen mit Dependency Injection (DI)</h3>

<p><code class="language-plaintext highlighter-rouge">TestBed</code> hilft uns ähnlich wie @NgModule die Abhängigkeiten für unsere Tests einzurichten.
Wir rufen <code class="language-plaintext highlighter-rouge">TestBed.configureTestingModule</code> mit unserer Konfiguration auf.
Diese Informationen werden dann verwendet, um alle Abhängigkeiten für unseren Test aufzulöse.</p>

<p>Unten sehen wir ein Beispiel:</p>

<div class="language-typescript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">@</span><span class="nd">NgModule</span><span class="p">({</span>
  <span class="na">declarations</span><span class="p">:</span> <span class="p">[</span> <span class="nx">ComponentToTest</span> <span class="p">]</span>
  <span class="na">providers</span><span class="p">:</span> <span class="p">[</span> <span class="nx">MyService</span> <span class="p">]</span>
<span class="p">})</span>
<span class="kd">class</span> <span class="nc">AppModule</span> <span class="p">{</span> <span class="p">}</span>
<span class="nx">TestBed</span><span class="p">.</span><span class="nf">configureTestingModule</span><span class="p">({</span>
  <span class="na">declarations</span><span class="p">:</span> <span class="p">[</span> <span class="nx">ComponentToTest</span> <span class="p">],</span>
  <span class="na">providers</span><span class="p">:</span> <span class="p">[</span> <span class="nx">MyService</span> <span class="p">]</span>
<span class="p">});</span>
<span class="c1">//get instance from TestBed (root injector)</span>
<span class="kd">let</span> <span class="nx">service</span> <span class="o">=</span> <span class="nx">TestBed</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="nx">MyService</span><span class="p">);</span>

</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">inject</code> erlaubt es uns Abhängigkeiten auf der TestBed Ebene zu bekommen.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">should return ...</span><span class="dl">'</span><span class="p">,</span> <span class="nf">inject</span><span class="p">([</span><span class="nx">MyService</span><span class="p">],</span> <span class="nx">service</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">service</span><span class="p">.</span><span class="nf">foo</span><span class="p">();</span>
<span class="p">}));</span>

</code></pre></div></div>

<p><code class="language-plaintext highlighter-rouge">Component injector</code> ermöglicht es uns eine Abhängigkeit auf der Komponentenebene zu erhalten.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">@</span><span class="nd">Component</span><span class="p">({</span>
  <span class="na">providers</span><span class="p">:</span> <span class="p">[</span> <span class="nx">MyService</span> <span class="p">]</span>
<span class="p">})</span>
<span class="kd">class</span> <span class="nc">ComponentToTest</span> <span class="p">{</span> <span class="p">}</span>
<span class="kd">let</span> <span class="nx">fixture</span> <span class="o">=</span> <span class="nx">TestBed</span><span class="p">.</span><span class="nf">createComponent</span><span class="p">(</span><span class="nx">ComponentToTest</span><span class="p">);</span>
<span class="kd">let</span> <span class="nx">service</span> <span class="o">=</span> <span class="nx">fixture</span><span class="p">.</span><span class="nx">debugElement</span><span class="p">.</span><span class="nx">injector</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="nx">MyService</span><span class="p">);</span>

</code></pre></div></div>

<p>Für Abhängigkeiten, die auf der Komponenten-Ebene definiert sind, müssen wir den Component injector wie oben gezeigt benutzen.</p>

<p>Lass uns mal sehen, wie wir <code class="language-plaintext highlighter-rouge">TestBed</code> mit der <code class="language-plaintext highlighter-rouge">LanguagesService</code> Komponente verwenden würden:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">describe</span><span class="p">(</span><span class="dl">'</span><span class="s1">Service: LanguagesService</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nf">beforeEach</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">TestBed</span><span class="p">.</span><span class="nf">configureTestingModule</span><span class="p">({</span>
    <span class="na">providers</span><span class="p">:</span> <span class="p">[</span> <span class="nx">LanguagesService</span> <span class="p">]</span>
  <span class="p">}));</span>

  <span class="nf">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">should return available languages</span><span class="dl">'</span><span class="p">,</span> <span class="nf">inject</span><span class="p">([</span><span class="nx">LanguagesService</span><span class="p">],</span> <span class="nx">service</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nf">expect</span><span class="p">(</span><span class="nx">service</span><span class="p">.</span><span class="nf">get</span><span class="p">()).</span><span class="nf">toContain</span><span class="p">(</span><span class="dl">'</span><span class="s1">en</span><span class="dl">'</span><span class="p">);</span>
  <span class="p">}));</span>
<span class="p">})</span>

</code></pre></div></div>

<p>Zuerst laden wir die für unsere Tests benötigten Abhängigkeiten mit <code class="language-plaintext highlighter-rouge">TestBed.configureTestingModule</code>. Dann benutzen wir <em><a href="https://v17.angular.io/api/testing/inject-function" rel="noreferrer noopener" target="_blank">inject</a></em> auf auf unsere Spezifikation, um automatisch jede Abhängigkeit zu instanziieren.</p>

<p>Wir können jetzt die Injektion umgestalten, damit wir das nicht für jede Spezifikation wiederholen brauchen.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">describe</span><span class="p">(</span><span class="dl">'</span><span class="s1">Service: LanguagesService</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">service</span><span class="p">;</span>

  <span class="nf">beforeEach</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">TestBed</span><span class="p">.</span><span class="nf">configureTestingModule</span><span class="p">({</span>
    <span class="na">providers</span><span class="p">:</span> <span class="p">[</span> <span class="nx">LanguagesService</span> <span class="p">]</span>
  <span class="p">}));</span>

  <span class="nf">beforeEach</span><span class="p">(</span><span class="nf">inject</span><span class="p">([</span><span class="nx">LanguagesService</span><span class="p">],</span> <span class="nx">s</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">service</span> <span class="o">=</span> <span class="nx">s</span><span class="p">;</span>
  <span class="p">}));</span>

  <span class="nf">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">should return available languages</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nf">expect</span><span class="p">(</span><span class="nx">service</span><span class="p">.</span><span class="nf">get</span><span class="p">()).</span><span class="nf">toContain</span><span class="p">(</span><span class="dl">'</span><span class="s1">en</span><span class="dl">'</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span>

</code></pre></div></div>

<p>Lass uns mal zwei Beispiele für die Instanziierung einer Komponente anschauen. Das erste Beispiel ist synchron und erstellt eine Vorrichtung mit einer Instanz von <code class="language-plaintext highlighter-rouge">MyTestComponent</code>.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// synchronous</span>
  <span class="nf">beforeEach</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">fixture</span> <span class="o">=</span> <span class="nx">TestBed</span><span class="p">.</span><span class="nf">createComponent</span><span class="p">(</span><span class="nx">MyTestComponent</span><span class="p">);</span>
  <span class="p">});</span>

</code></pre></div></div>

<p>Das zweite Beispiel ist asynchron, da es mit externen Vorlagen und css XHR-Anrufe erfordert.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// asynchronous</span>
  <span class="nf">beforeEach</span><span class="p">(</span><span class="k">async</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">TestBed</span><span class="p">.</span><span class="nf">configureTestingModule</span><span class="p">({</span>
      <span class="na">declarations</span><span class="p">:</span> <span class="p">[</span> <span class="nx">MyTestComponent</span> <span class="p">],</span>
    <span class="p">}).</span><span class="nf">compileComponents</span><span class="p">();</span> <span class="c1">// compile external templates and css</span>
  <span class="p">}));</span>

</code></pre></div></div>
<p>Wir können <em><a href="https://v17.angular.io/api/core/testing/index/async-function" rel="noreferrer noopener" target="_blank">async</a></em> verwenden, wenn Abhängigkeiten eine asynchrone Handhabung beinhalten. Dies wird intern eine Zone erstellen und jede asynchrone Verarbeitung „behandeln“.</p>

<p><em>„Abhängig von deinem Build-Setup können deine Vorlagen und CSS alle innenliegend (inlined) sein, so dass sie den synchronen Ansatz sicher verwenden können.“</em></p>

<h3 id="testen-checkliste">Testen Checkliste</h3>

<ul>
  <li>
    <p>Welche Art von Test? <a href="https://v17.angular.io/guide/testing#!#isolated-unit-tests" rel="noreferrer noopener" target="_blank">Isolated</a>, <a href="https://v17.angular.io/guide/testing#!#shallow-component-test" rel="noreferrer noopener" target="_blank">shallow</a> oder <a href="https://vsavkin.com/three-ways-to-test-angular-2-components-dcea8e90bd8d" rel="noreferrer noopener" target="_blank">integration Test</a>.</p>
  </li>
  <li>
    <p>Kann ich Mocks, Stubs oder Spies benutzen? Abhängigkeiten sollten durch eigene Tests abgedeckt werden. Mit ihnen kannst du deine Tests boosten, ohne an Wirksamkeit zu verlieren.</p>
  </li>
  <li>
    <p>Sync oder Async? Macht dein Test asynchrone Aufrufe?  Benutzt XHR, Promises, Obervables, etc. Benutzt die Komponente TemplateUrl oder styleURls oder inline? Stelle sicher, dass du die entsprechenden APIs verwendest.</p>
  </li>
</ul>

<h2 id="code-beispiele-für-testen-in-angular">Code-Beispiele für Testen in Angular</h2>

<h3 id="1-eine-komponente-testen">1. Eine Komponente testen</h3>

<p>Nehmen wir eine einfache Komponente, die eine Begrüßungsnachricht mit einer <em><a href="https://v17.angular.io/api/core/Input" rel="noreferrer noopener" target="_blank">@Input()</a></em> - Eigenschaft rendert.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Usage:    &lt;greeter name="Joe"&gt;&lt;/greeter&gt;</span>
<span class="c1">// Renders:  &lt;h1&gt;Hello Joe!&lt;/h1&gt;</span>
<span class="p">@</span><span class="nd">Component</span><span class="p">({</span>
  <span class="na">selector</span><span class="p">:</span> <span class="dl">'</span><span class="s1">greeter</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">template</span><span class="p">:</span> <span class="s2">`&lt;h1&gt;Hello {{name}}!&lt;/h1&gt;`</span>
<span class="p">})</span>
<span class="k">export</span> <span class="kd">class</span> <span class="nc">Greeter</span> <span class="p">{</span>
  <span class="p">@</span><span class="nd">Input</span><span class="p">()</span> <span class="nx">name</span><span class="p">;</span>
<span class="p">}</span>

</code></pre></div></div>

<p>Um diese Komponente zu testen, verwenden wir eine gemeinsames Setup mit <code class="language-plaintext highlighter-rouge">TestBed</code>.</p>

<p><em>„Benutze TestBed, um die entsprechenden Abhängigkeiten zu laden, damit sie während deiner Tests verfügbar sind.“</em></p>

<p>Es ist eine gängige Praxis <code class="language-plaintext highlighter-rouge">beforeEach</code> zu verwenden, um unsere Tests umzusetzen. Wenn wir das tun, dann vermeiden wir, dass wir für jeden Tests einen Code wiederholen müssen. Dies vereinfacht auch unsere Spezifikation.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">describe</span><span class="p">(</span><span class="dl">'</span><span class="s1">Component: Greeter</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">fixture</span><span class="p">,</span> <span class="nx">greeter</span><span class="p">,</span> <span class="nx">element</span><span class="p">,</span> <span class="nx">de</span><span class="p">;</span>

  <span class="c1">//setup</span>
  <span class="nf">beforeEach</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">TestBed</span><span class="p">.</span><span class="nf">configureTestingModule</span><span class="p">({</span>
      <span class="na">declarations</span><span class="p">:</span> <span class="p">[</span> <span class="nx">Greeter</span> <span class="p">]</span>
    <span class="p">});</span>

    <span class="nx">fixture</span> <span class="o">=</span> <span class="nx">TestBed</span><span class="p">.</span><span class="nf">createComponent</span><span class="p">(</span><span class="nx">Greeter</span><span class="p">);</span>
    <span class="nx">greeter</span> <span class="o">=</span> <span class="nx">fixture</span><span class="p">.</span><span class="nx">componentInstance</span><span class="p">;</span>  <span class="c1">// to access properties and methods</span>
    <span class="nx">element</span> <span class="o">=</span> <span class="nx">fixture</span><span class="p">.</span><span class="nx">nativeElement</span><span class="p">;</span>      <span class="c1">// to access DOM element</span>
    <span class="nx">de</span> <span class="o">=</span> <span class="nx">fixture</span><span class="p">.</span><span class="nx">debugElement</span><span class="p">;</span>            <span class="c1">// test helper</span>
  <span class="p">});</span>

  <span class="c1">//specs</span>
  <span class="nf">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">should render `Hello World!`</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">greeter</span><span class="p">.</span><span class="nx">name</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">World</span><span class="dl">'</span><span class="p">;</span>
    <span class="c1">//trigger change detection</span>
    <span class="nx">fixture</span><span class="p">.</span><span class="nf">detectChanges</span><span class="p">();</span>
    <span class="nx">fixture</span><span class="p">.</span><span class="nf">whenStable</span><span class="p">().</span><span class="nf">then</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nf">expect</span><span class="p">(</span><span class="nx">element</span><span class="p">.</span><span class="nf">querySelector</span><span class="p">(</span><span class="dl">'</span><span class="s1">h1</span><span class="dl">'</span><span class="p">).</span><span class="nx">innerText</span><span class="p">).</span><span class="nf">toBe</span><span class="p">(</span><span class="dl">'</span><span class="s1">Hello World!</span><span class="dl">'</span><span class="p">);</span>
      <span class="nf">expect</span><span class="p">(</span><span class="nx">de</span><span class="p">.</span><span class="nf">query</span><span class="p">(</span><span class="nx">By</span><span class="p">.</span><span class="nf">css</span><span class="p">(</span><span class="dl">'</span><span class="s1">h1</span><span class="dl">'</span><span class="p">)).</span><span class="nx">nativeElement</span><span class="p">.</span><span class="nx">innerText</span><span class="p">).</span><span class="nf">toBe</span><span class="p">(</span><span class="dl">'</span><span class="s1">Hello World!</span><span class="dl">'</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">}));</span>
<span class="p">})</span>

</code></pre></div></div>

<p>Wir haben <code class="language-plaintext highlighter-rouge">TestBed.create.Component</code> verwendet, um eine Instanz unserer <code class="language-plaintext highlighter-rouge">Greeter</code>-Komponente zu erstellen. Die Komponenteninstanz wird innerhalb einer <a href="https://github.com/angular/angular/blob/a7e9bc97f6a19a2b47b962bd021cb91346a44baa/modules/angular2/src/testing/test_component_builder.ts#L31" rel="noreferrer noopener" target="_blank">fixture</a> zugänglich sein. Das ist die Haupt-API:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">abstract</span> <span class="kd">class</span> <span class="nc">ComponentFixture</span> <span class="p">{</span>
  <span class="nx">debugElement</span><span class="p">;</span>       <span class="c1">// test helper</span>
  <span class="nx">componentInstance</span><span class="p">;</span>  <span class="c1">// to access properties and methods</span>
  <span class="nx">nativeElement</span><span class="p">;</span>      <span class="c1">// to access DOM element</span>
  <span class="nf">detectChanges</span><span class="p">();</span>    <span class="c1">// trigger component change detection</span>
<span class="p">}</span>

</code></pre></div></div>
<p>Wir haben die <code class="language-plaintext highlighter-rouge">name</code>-Eigenschaft benutzt, um einen Wert einzurichten, die Änderungserkennung mit <code class="language-plaintext highlighter-rouge">detectChanges</code> einzurichten und das erwartet Ergebnis zu überprüfen, wenn alle asynchronen Anrufe mit <code class="language-plaintext highlighter-rouge">whenStable</code> beendet wurden. Um auf den gerenderten Text zuzugreifen, verwendeten wir zwei verschiedene APIs, welche durch einen CSS-Selektor (Zeilen 22-23) gefiltert wurden.</p>

<p><em>„Weitere Abfragen für debugElement sind: Query(By.all())query(by.directive(MyDirective))“</em></p>

<h3 id="2-einen-service-testen">2. Einen Service testen</h3>

<p><code class="language-plaintext highlighter-rouge">LanguageService</code> hat nur eine Methode, welche ein Array von verfügbaren Sprachen für die Anwendung zurückgibt.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//a simple service</span>
<span class="k">export</span> <span class="kd">class</span> <span class="nc">LanguagesService</span> <span class="p">{</span>
  <span class="nf">get</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="p">[</span><span class="dl">'</span><span class="s1">en</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">es</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">fr</span><span class="dl">'</span><span class="p">];</span>
  <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<p>Ähnlich wie bei unserem vorherigen Beispiel instanziieren wir den Service vor. Wie wir schon gesagt haben, ist das eine gute Praxis, auch wenn wir nur eine Spezifikation haben. Bei dieser Gelegenheit prüfen wir jede einzelne Sprache und die Gesamtzahl.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">describe</span><span class="p">(</span><span class="dl">'</span><span class="s1">Service: LanguagesService</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">service</span><span class="p">;</span>

  <span class="nf">beforeEach</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">TestBed</span><span class="p">.</span><span class="nf">configureTestingModule</span><span class="p">({</span>
    <span class="na">providers</span><span class="p">:</span> <span class="p">[</span> <span class="nx">LanguagesService</span> <span class="p">]</span>
  <span class="p">}));</span>

  <span class="nf">beforeEach</span><span class="p">(</span><span class="nf">inject</span><span class="p">([</span><span class="nx">LanguagesService</span><span class="p">],</span> <span class="nx">s</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">service</span> <span class="o">=</span> <span class="nx">s</span><span class="p">;</span>
  <span class="p">}));</span>

  <span class="nf">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">should return available languages</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">languages</span> <span class="o">=</span> <span class="nx">service</span><span class="p">.</span><span class="nf">get</span><span class="p">();</span>
    <span class="nf">expect</span><span class="p">(</span><span class="nx">languages</span><span class="p">).</span><span class="nf">toContain</span><span class="p">(</span><span class="dl">'</span><span class="s1">en</span><span class="dl">'</span><span class="p">);</span>
    <span class="nf">expect</span><span class="p">(</span><span class="nx">languages</span><span class="p">).</span><span class="nf">toContain</span><span class="p">(</span><span class="dl">'</span><span class="s1">es</span><span class="dl">'</span><span class="p">);</span>
    <span class="nf">expect</span><span class="p">(</span><span class="nx">languages</span><span class="p">).</span><span class="nf">toContain</span><span class="p">(</span><span class="dl">'</span><span class="s1">fr</span><span class="dl">'</span><span class="p">);</span>
    <span class="nf">expect</span><span class="p">(</span><span class="nx">languages</span><span class="p">.</span><span class="nx">length</span><span class="p">).</span><span class="nf">toEqual</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span>

</code></pre></div></div>
<h3 id="3-testen-mit-http">3. Testen mit Http</h3>

<p>Wir wollen normalerweise keine HTTP-Anrufe während unserer Tests machen, aber wir werden es jetzt als Referenz trotzdem zeigen. Wir haben unseren Erstdienst <code class="language-plaintext highlighter-rouge">LanguageService</code> für <code class="language-plaintext highlighter-rouge">LanguageServiceHttp</code>.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">export</span> <span class="kd">class</span> <span class="nc">LanguagesServiceHttp</span> <span class="p">{</span>
  <span class="nf">constructor</span><span class="p">(</span><span class="kr">private</span> <span class="nx">http</span><span class="p">:</span><span class="nx">Http</span><span class="p">)</span> <span class="p">{</span> <span class="p">}</span>

  <span class="nf">get</span><span class="p">(){</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">http</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="dl">'</span><span class="s1">api/languages.json</span><span class="dl">'</span><span class="p">)</span>
      <span class="p">.</span><span class="nf">map</span><span class="p">(</span><span class="nx">response</span> <span class="o">=&gt;</span> <span class="nx">response</span><span class="p">.</span><span class="nf">json</span><span class="p">());</span>
  <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<p>In diesem Fall verwendet es <code class="language-plaintext highlighter-rouge">http.get()</code>, um eine JSON-Datei zu lesen. Danach haben wir <em><a href="https://github.com/ReactiveX/rxjs/blob/master/packages/rxjs/src/internal/operators/map.ts" rel="noreferrer noopener" target="_blank">Observable.map</a></em> verwendet, um die Antwort in das Endergebins mit <code class="language-plaintext highlighter-rouge">json()</code> umzuwandeln.</p>

<p>Unser Test sieht dem vorherigen ziemlich ähnlich. Der Hauptunterschied besteht in der Verwendung eines asynchronen Tests, wie wir es mit der Komponente aufgrund des Abonnements gemacht haben.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">describe</span><span class="p">(</span><span class="dl">'</span><span class="s1">Service: LanguagesServiceHttp</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">service</span><span class="p">;</span>

  <span class="c1">//setup</span>
  <span class="nf">beforeEach</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">TestBed</span><span class="p">.</span><span class="nf">configureTestingModule</span><span class="p">({</span>
    <span class="na">imports</span><span class="p">:</span> <span class="p">[</span> <span class="nx">HttpModule</span> <span class="p">],</span>
    <span class="na">providers</span><span class="p">:</span> <span class="p">[</span> <span class="nx">LanguagesServiceHttp</span> <span class="p">]</span>
  <span class="p">}));</span>

  <span class="nf">beforeEach</span><span class="p">(</span><span class="nf">inject</span><span class="p">([</span><span class="nx">LanguagesServiceHttp</span><span class="p">],</span> <span class="nx">s</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">service</span> <span class="o">=</span> <span class="nx">s</span><span class="p">;</span>
  <span class="p">}));</span>

  <span class="c1">//specs</span>
  <span class="nf">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">should return available languages</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">service</span><span class="p">.</span><span class="nf">get</span><span class="p">().</span><span class="nf">subscribe</span><span class="p">(</span><span class="nx">x</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nf">expect</span><span class="p">(</span><span class="nx">x</span><span class="p">).</span><span class="nf">toContain</span><span class="p">(</span><span class="dl">'</span><span class="s1">en</span><span class="dl">'</span><span class="p">);</span>
      <span class="nf">expect</span><span class="p">(</span><span class="nx">x</span><span class="p">).</span><span class="nf">toContain</span><span class="p">(</span><span class="dl">'</span><span class="s1">es</span><span class="dl">'</span><span class="p">);</span>
      <span class="nf">expect</span><span class="p">(</span><span class="nx">x</span><span class="p">).</span><span class="nf">toContain</span><span class="p">(</span><span class="dl">'</span><span class="s1">fr</span><span class="dl">'</span><span class="p">);</span>
      <span class="nf">expect</span><span class="p">(</span><span class="nx">x</span><span class="p">.</span><span class="nx">length</span><span class="p">).</span><span class="nf">toEqual</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">}));</span>
<span class="p">})</span>

</code></pre></div></div>
<p><em>„Beachte, dass fakeAsync nicht verwendet werden kann, wenn es XHR-Anrufe gibt. Wegen dem <a href="https://github.com/angular/angular/issues/8280" rel="noreferrer noopener" target="_blank">Design</a>.“</em></p>

<p><code class="language-plaintext highlighter-rouge">Http.get()</code> gibt ein Observavble zurück, welches wir abonnieren können. Wir werden Observables später noch ausführlicher abdecken.</p>

<h3 id="4-testen-mit-mockbackend">4. Testen mit MockBackend</h3>

<p>Ein Ansatz, der sinnvoller erscheint, ist das Ersetzen von HTTP-Anrufen durch einen MockBackend. Um dies zu tun, können wir die Bereitstellung (Zeile 10) verwenden. Dies wid uns ermöglichen, unsere Antworten zu mocken und damit zu vermeiden, das echte Backend zu „hitten“ und damit unsere Testergebnisse zu steigern.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">describe</span><span class="p">(</span><span class="dl">'</span><span class="s1">MockBackend: LanguagesServiceHttp</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">mockbackend</span><span class="p">,</span> <span class="nx">service</span><span class="p">;</span>

  <span class="c1">//setup</span>
  <span class="nf">beforeEach</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">TestBed</span><span class="p">.</span><span class="nf">configureTestingModule</span><span class="p">({</span>
      <span class="na">imports</span><span class="p">:</span> <span class="p">[</span> <span class="nx">HttpModule</span> <span class="p">],</span>
      <span class="na">providers</span><span class="p">:</span> <span class="p">[</span>
        <span class="nx">LanguagesServiceHttp</span><span class="p">,</span>
        <span class="p">{</span> <span class="na">provide</span><span class="p">:</span> <span class="nx">XHRBackend</span><span class="p">,</span> <span class="na">useClass</span><span class="p">:</span> <span class="nx">MockBackend</span> <span class="p">}</span>
      <span class="p">]</span>
    <span class="p">})</span>
  <span class="p">});</span>

  <span class="nf">beforeEach</span><span class="p">(</span><span class="nf">inject</span><span class="p">([</span><span class="nx">LanguagesServiceHttp</span><span class="p">,</span> <span class="nx">XHRBackend</span><span class="p">],</span> <span class="p">(</span><span class="nx">_service</span><span class="p">,</span> <span class="nx">_mockbackend</span><span class="p">)</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">service</span> <span class="o">=</span> <span class="nx">_service</span><span class="p">;</span>
    <span class="nx">mockbackend</span> <span class="o">=</span> <span class="nx">_mockbackend</span><span class="p">;</span>
  <span class="p">}));</span>

  <span class="c1">//specs</span>
  <span class="nf">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">should return mocked response (sync)</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">response</span> <span class="o">=</span> <span class="p">[</span><span class="dl">"</span><span class="s2">ru</span><span class="dl">"</span><span class="p">,</span> <span class="dl">"</span><span class="s2">es</span><span class="dl">"</span><span class="p">];</span>
    <span class="nx">mockbackend</span><span class="p">.</span><span class="nx">connections</span><span class="p">.</span><span class="nf">subscribe</span><span class="p">(</span><span class="nx">connection</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nx">connection</span><span class="p">.</span><span class="nf">mockRespond</span><span class="p">(</span><span class="k">new</span> <span class="nc">Response</span><span class="p">(</span><span class="k">new</span> <span class="nc">ResponseOptions</span><span class="p">({</span>
        <span class="na">body</span><span class="p">:</span> <span class="nx">JSON</span><span class="p">.</span><span class="nf">stringify</span><span class="p">(</span><span class="nx">response</span><span class="p">)</span>
      <span class="p">}));</span>
    <span class="p">});</span>
    <span class="nx">service</span><span class="p">.</span><span class="nf">get</span><span class="p">().</span><span class="nf">subscribe</span><span class="p">(</span><span class="nx">languages</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nf">expect</span><span class="p">(</span><span class="nx">languages</span><span class="p">).</span><span class="nf">toContain</span><span class="p">(</span><span class="dl">'</span><span class="s1">ru</span><span class="dl">'</span><span class="p">);</span>
      <span class="nf">expect</span><span class="p">(</span><span class="nx">languages</span><span class="p">).</span><span class="nf">toContain</span><span class="p">(</span><span class="dl">'</span><span class="s1">es</span><span class="dl">'</span><span class="p">);</span>
      <span class="nf">expect</span><span class="p">(</span><span class="nx">languages</span><span class="p">.</span><span class="nx">length</span><span class="p">).</span><span class="nf">toBe</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
    <span class="p">});</span>
  <span class="p">});</span>
<span class="p">})</span>

</code></pre></div></div>
<p>Auf unserem Test bauen wir unsere gemockte Antwort (Zeilen 23-25), also wenn wir endlich den Anruf zu unserem Service machen, bekommt man die erwarteten Ergebnisse.</p>

<p><em>„Beachte: Wir müssen async nicht benutzen, weil MockBackend sich synchron verhält. Danke an <a href="https://medium.com/@pascalprecht" rel="noopener noreferrer nofollow" target="_blank">Pascal Precht</a>, der das erwähnt hat.“</em></p>

<h3 id="5-eine-directive-testen">5. Eine Directive testen</h3>

<p>Directives in Angular sind eine spezifische Art von Komponente mit in der Regel keiner begleitenden Ansicht. Wir verwenden eine <a href="https://v17.angular.io/guide/attribute-directives" rel="noreferrer noopener" target="_blank">AttributDirective</a>, <code class="language-plaintext highlighter-rouge">logClicks</code>, die protokoliieren, wie viele Klicks wir auf dem <code class="language-plaintext highlighter-rouge">host element</code> machen, damit du deine Idee erfassen kannst.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// Example: &lt;div log-clicks&gt;&lt;/div&gt;</span>
<span class="p">@</span><span class="nd">Directive</span><span class="p">({</span>
  <span class="na">selector</span><span class="p">:</span> <span class="dl">"</span><span class="s2">[log-clicks]</span><span class="dl">"</span>
<span class="p">})</span>
<span class="k">export</span> <span class="kd">class</span> <span class="nc">logClicks</span> <span class="p">{</span>
  <span class="nx">counter</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="p">@</span><span class="nd">Output</span><span class="p">()</span> <span class="nx">changes</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">EventEmitter</span><span class="p">();</span>

  <span class="p">@</span><span class="nd">HostListener</span><span class="p">(</span><span class="dl">'</span><span class="s1">click</span><span class="dl">'</span><span class="p">,</span> <span class="p">[</span><span class="dl">'</span><span class="s1">$event.target</span><span class="dl">'</span><span class="p">])</span>
  <span class="nf">clicked</span><span class="p">(</span><span class="nx">target</span><span class="p">)</span> <span class="p">{</span>
    <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="s2">`Click on [</span><span class="p">${</span><span class="nx">target</span><span class="p">}</span><span class="s2">]: </span><span class="p">${</span><span class="o">++</span><span class="k">this</span><span class="p">.</span><span class="nx">counter</span><span class="p">}</span><span class="s2">`</span><span class="p">);</span>
    <span class="c1">//we use emit as next is marked as deprecated</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">changes</span><span class="p">.</span><span class="nf">emit</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">counter</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<p>Um diese Directive zu testen, haben wir beschlossen, eine Container-Komponente zu erstellen. Wir werden sie aufstellen, damit sie als unser Host wirken kann, welcher die von unserer Directive emittierten Ereignisse wiedergibt.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">@</span><span class="nd">Component</span><span class="p">({</span>
  <span class="na">selector</span><span class="p">:</span> <span class="dl">'</span><span class="s1">container</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">template</span><span class="p">:</span> <span class="s2">`&lt;div log-clicks (changes)="changed($event)"&gt;&lt;/div&gt;`</span><span class="p">,</span>
  <span class="na">directives</span><span class="p">:</span> <span class="p">[</span><span class="nx">logClicks</span><span class="p">]</span>
<span class="p">})</span>
<span class="k">export</span> <span class="kd">class</span> <span class="nc">Container</span> <span class="p">{</span>
  <span class="p">@</span><span class="nd">Output</span><span class="p">()</span> <span class="nx">changes</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">EventEmitter</span><span class="p">();</span>

  <span class="nf">changed</span><span class="p">(</span><span class="nx">value</span><span class="p">){</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">changes</span><span class="p">.</span><span class="nf">emit</span><span class="p">(</span><span class="nx">value</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

<span class="nf">describe</span><span class="p">(</span><span class="dl">'</span><span class="s1">Directive: logClicks</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">fixture</span><span class="p">;</span>
  <span class="kd">let</span> <span class="nx">container</span><span class="p">;</span>
  <span class="kd">let</span> <span class="nx">element</span><span class="p">;</span>

  <span class="c1">//setup</span>
  <span class="nf">beforeEach</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">TestBed</span><span class="p">.</span><span class="nf">configureTestingModule</span><span class="p">({</span>
      <span class="na">declarations</span><span class="p">:</span> <span class="p">[</span> <span class="nx">Container</span><span class="p">,</span> <span class="nx">logClicks</span> <span class="p">]</span>
    <span class="p">});</span>

    <span class="nx">fixture</span> <span class="o">=</span> <span class="nx">TestBed</span><span class="p">.</span><span class="nf">createComponent</span><span class="p">(</span><span class="nx">Container</span><span class="p">);</span>
    <span class="nx">container</span> <span class="o">=</span> <span class="nx">fixture</span><span class="p">.</span><span class="nx">componentInstance</span><span class="p">;</span> <span class="c1">// to access properties and methods</span>
    <span class="nx">element</span> <span class="o">=</span> <span class="nx">fixture</span><span class="p">.</span><span class="nx">nativeElement</span><span class="p">;</span>       <span class="c1">// to access DOM element</span>
  <span class="p">});</span>

  <span class="c1">//specs</span>
  <span class="nf">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">should increment counter</span><span class="dl">'</span><span class="p">,</span> <span class="nf">fakeAsync</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">div</span> <span class="o">=</span> <span class="nx">element</span><span class="p">.</span><span class="nf">querySelector</span><span class="p">(</span><span class="dl">'</span><span class="s1">div</span><span class="dl">'</span><span class="p">);</span>
    <span class="c1">//set up subscriber</span>
    <span class="nx">container</span><span class="p">.</span><span class="nx">changes</span><span class="p">.</span><span class="nf">subscribe</span><span class="p">(</span><span class="nx">x</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nf">expect</span><span class="p">(</span><span class="nx">x</span><span class="p">).</span><span class="nf">toBe</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
    <span class="p">});</span>
    <span class="c1">//trigger click on container</span>
    <span class="nx">div</span><span class="p">.</span><span class="nf">click</span><span class="p">();</span>
    <span class="c1">//execute all pending asynchronous calls</span>
    <span class="nf">tick</span><span class="p">();</span>
  <span class="p">}));</span>
<span class="p">})</span>

</code></pre></div></div>

<p>Wir haben <code class="language-plaintext highlighter-rouge">beforeEach</code> verwendet, um die Logik für die Erstellung der Komponente aus den Tests zu trennen. Dieser Teil kann nun für alle Spezifikationen verwendet werden.</p>

<p>Um den <code class="language-plaintext highlighter-rouge">click</code> auf den Container auszulösen, haben wir die DOM API (empfohlen) verwendet. Wir könnten auch <code class="language-plaintext highlighter-rouge">fixture.debugElement.triggerEventHandler(‘click’)</code> verwenden.</p>

<p>In diesem Test haben wir <code class="language-plaintext highlighter-rouge">fakeAsync</code> und <code class="language-plaintext highlighter-rouge">tick</code> verwendet. Mit <code class="language-plaintext highlighter-rouge">fakeAsync</code> wird jegliche asynchrone Verarbeitung pausiert, bis wir <code class="language-plaintext highlighter-rouge">tick</code> aufrufen. Dies gibt uns eine größere Kontrolle und vermeidet es außerdem auf verschachtelte Blöcke von Versprechen oder Beobachtungen zurückzugreifen.</p>

<p><em>„Mit fakeAsync/tick bekommen wir eine bessere Kontrolle über den asynchronen Code, obwohl er nicht mit XHR verwendet werden kann.“</em></p>

<h3 id="6-ein-pipe-testen">6. Ein Pipe testen</h3>

<p>Pipes sind Funktionen, die Eingabedaten in ein vom Benutzer lesbares Format umwandeln können. Wir schreiben eine benutzerdefinierte Pipe <code class="language-plaintext highlighter-rouge">capitalise</code> mit dem Standard <em><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/String/toUpperCase" rel="noreferrer noopener" target="_blank">String.toUpperCase()</a></em>. Das ist der Einfachheit halber, da Angular eine eigene <a href="https://v17.angular.io/api/common/UpperCasePipe-class" rel="noreferrer noopener" target="_blank">UpperCasePipe</a>-Implementierung hat.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">import</span> <span class="p">{</span><span class="nx">Pipe</span><span class="p">,</span> <span class="nx">PipeTransform</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">@angular/core</span><span class="dl">'</span><span class="p">;</span>
<span class="p">@</span><span class="nd">Pipe</span><span class="p">({</span>
  <span class="na">name</span><span class="p">:</span> <span class="dl">'</span><span class="s1">capitalise</span><span class="dl">'</span>
<span class="p">})</span>
<span class="k">export</span> <span class="kd">class</span> <span class="nc">CapitalisePipe</span> <span class="kr">implements</span> <span class="nx">PipeTransform</span> <span class="p">{</span>
  <span class="nf">transform</span><span class="p">(</span><span class="nx">value</span><span class="p">:</span> <span class="nx">string</span><span class="p">):</span> <span class="nx">string</span> <span class="p">{</span>
    <span class="k">if </span><span class="p">(</span><span class="k">typeof</span> <span class="nx">value</span> <span class="o">!==</span> <span class="dl">'</span><span class="s1">string</span><span class="dl">'</span><span class="p">)</span> <span class="p">{</span>
      <span class="k">throw</span> <span class="k">new</span> <span class="nc">Error</span><span class="p">(</span><span class="dl">'</span><span class="s1">Requires a String as input</span><span class="dl">'</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">return</span> <span class="nx">value</span><span class="p">.</span><span class="nf">toUpperCase</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<p>Pipes sind nur einfache Klassen, die injiziert werden können, damit wir unsere Spezifikationen sehr einfach mit <code class="language-plaintext highlighter-rouge">inject</code> einrichten können.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">describe</span><span class="p">(</span><span class="dl">'</span><span class="s1">Pipe: CapitalisePipe</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">pipe</span><span class="p">;</span>

  <span class="c1">//setup</span>
  <span class="nf">beforeEach</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">TestBed</span><span class="p">.</span><span class="nf">configureTestingModule</span><span class="p">({</span>
    <span class="na">providers</span><span class="p">:</span> <span class="p">[</span> <span class="nx">CapitalisePipe</span> <span class="p">]</span>
  <span class="p">}));</span>

  <span class="nf">beforeEach</span><span class="p">(</span><span class="nf">inject</span><span class="p">([</span><span class="nx">CapitalisePipe</span><span class="p">],</span> <span class="nx">p</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">pipe</span> <span class="o">=</span> <span class="nx">p</span><span class="p">;</span>
  <span class="p">}));</span>

  <span class="c1">//specs</span>
  <span class="nf">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">should work with empty string</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nf">expect</span><span class="p">(</span><span class="nx">pipe</span><span class="p">.</span><span class="nf">transform</span><span class="p">(</span><span class="dl">''</span><span class="p">)).</span><span class="nf">toEqual</span><span class="p">(</span><span class="dl">''</span><span class="p">);</span>
  <span class="p">});</span>

  <span class="nf">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">should capitalise</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nf">expect</span><span class="p">(</span><span class="nx">pipe</span><span class="p">.</span><span class="nf">transform</span><span class="p">(</span><span class="dl">'</span><span class="s1">wow</span><span class="dl">'</span><span class="p">)).</span><span class="nf">toEqual</span><span class="p">(</span><span class="dl">'</span><span class="s1">WOW</span><span class="dl">'</span><span class="p">);</span>
  <span class="p">});</span>

  <span class="nf">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">should throw with invalid values</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">//must use arrow function for expect to capture exception</span>
    <span class="nf">expect</span><span class="p">(()</span><span class="o">=&gt;</span><span class="nx">pipe</span><span class="p">.</span><span class="nf">transform</span><span class="p">(</span><span class="kc">undefined</span><span class="p">)).</span><span class="nf">toThrow</span><span class="p">();</span>
    <span class="nf">expect</span><span class="p">(()</span><span class="o">=&gt;</span><span class="nx">pipe</span><span class="p">.</span><span class="nf">transform</span><span class="p">()).</span><span class="nf">toThrow</span><span class="p">();</span>
    <span class="nf">expect</span><span class="p">(()</span><span class="o">=&gt;</span><span class="nx">pipe</span><span class="p">.</span><span class="nf">transform</span><span class="p">()).</span><span class="nf">toThrowError</span><span class="p">(</span><span class="dl">'</span><span class="s1">Requires a String as input</span><span class="dl">'</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">})</span>

</code></pre></div></div>
<p>Um unsere Pipes zu testen, haben wir die üblichen Fälle überprüft: Sie sollten mit leeren Strings arbeiten, sie sollten kapitalisieren und schließlich sollten sie „werfen“ wenn sie nicht mit einem String benutzt werden.</p>

<p><em>„Beachte: Wir benutzen eine Pfeilfunktion, um Ausnahmen in expect zu erfassen. “</em></p>

<h3 id="7-routes-testen">7. Routes testen</h3>

<p>Routen werden manchmal ausgelassen, aber werden für gewöhnlich als eine gute Praxis für doppelte Buchführung gesehen. In unserem Beispiel verwenden wir eine einfache Routenkonfiguration mit nur wenigen Routes und einer anderen Route, die nach Hause führt.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">@</span><span class="nd">Component</span><span class="p">({</span>
  <span class="na">selector</span><span class="p">:</span> <span class="dl">'</span><span class="s1">my-app</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">template</span><span class="p">:</span> <span class="s2">`&lt;router-outlet&gt;&lt;/router-outlet&gt;`</span>
<span class="p">})</span>
<span class="kd">class</span> <span class="nc">TestComponent</span> <span class="p">{</span> <span class="p">}</span>

<span class="p">@</span><span class="nd">Component</span><span class="p">({</span>
  <span class="na">selector</span><span class="p">:</span> <span class="dl">'</span><span class="s1">home</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">template</span><span class="p">:</span> <span class="s2">`&lt;h1&gt;Home&lt;/h1&gt;`</span>
<span class="p">})</span>
<span class="k">export</span> <span class="kd">class</span> <span class="nc">Home</span> <span class="p">{</span> <span class="p">}</span>

<span class="k">export</span> <span class="kd">const</span> <span class="nx">routes</span><span class="p">:</span> <span class="nx">Routes</span> <span class="o">=</span> <span class="p">[</span>
  <span class="p">{</span> <span class="na">path</span><span class="p">:</span> <span class="dl">''</span><span class="p">,</span> <span class="na">redirectTo</span><span class="p">:</span> <span class="dl">'</span><span class="s1">home</span><span class="dl">'</span><span class="p">,</span> <span class="na">pathMatch</span><span class="p">:</span> <span class="dl">'</span><span class="s1">full</span><span class="dl">'</span> <span class="p">},</span>
  <span class="p">{</span> <span class="na">path</span><span class="p">:</span> <span class="dl">'</span><span class="s1">home</span><span class="dl">'</span><span class="p">,</span> <span class="na">component</span><span class="p">:</span> <span class="nx">Home</span> <span class="p">},</span>
  <span class="p">{</span> <span class="na">path</span><span class="p">:</span> <span class="dl">'</span><span class="s1">**</span><span class="dl">'</span><span class="p">,</span> <span class="na">redirectTo</span><span class="p">:</span> <span class="dl">'</span><span class="s1">home</span><span class="dl">'</span> <span class="p">}</span>
<span class="p">];</span>

<span class="p">@</span><span class="nd">NgModule</span><span class="p">({</span>
  <span class="na">imports</span><span class="p">:</span> <span class="p">[</span>
    <span class="nx">BrowserModule</span><span class="p">,</span> <span class="nx">RouterModule</span><span class="p">.</span><span class="nf">forRoot</span><span class="p">(</span><span class="nx">routes</span><span class="p">),</span>
  <span class="p">],</span>
  <span class="na">declarations</span><span class="p">:</span> <span class="p">[</span><span class="nx">TestComponent</span><span class="p">,</span> <span class="nx">Home</span><span class="p">],</span>
  <span class="na">bootstrap</span><span class="p">:</span> <span class="p">[</span><span class="nx">TestComponent</span><span class="p">],</span>
  <span class="na">exports</span><span class="p">:</span> <span class="p">[</span><span class="nx">TestComponent</span><span class="p">]</span>
<span class="p">})</span>
<span class="k">export</span> <span class="kd">class</span> <span class="nc">AppModule</span> <span class="p">{}</span>

</code></pre></div></div>

<p>Die erste Route-Definition fängt die ursprüngliche Route ein, wenn keine zur Umleitung nach Hause geliefert wurde (Zeile 14). Die zweite instanziiert die Home-Komponente (Zeile 15); die letzte fängt alle übrigen Routes ein und leitet sie auch nach Hause (Zeile 16) um. Unsere Tests werden diese Routes nutzen, um unsere Erwartungen zu prüfen.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">describe</span><span class="p">(</span><span class="dl">'</span><span class="s1">Router tests</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="c1">//setup</span>
  <span class="nf">beforeEach</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">TestBed</span><span class="p">.</span><span class="nf">configureTestingModule</span><span class="p">({</span>
      <span class="na">imports</span><span class="p">:</span> <span class="p">[</span>
        <span class="nx">RouterTestingModule</span><span class="p">.</span><span class="nf">withRoutes</span><span class="p">(</span><span class="nx">routes</span><span class="p">),</span>
        <span class="nx">AppModule</span>
      <span class="p">]</span>
    <span class="p">});</span>
  <span class="p">});</span>

  <span class="c1">//specs</span>
  <span class="nf">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">can navigate to home (async)</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">fixture</span> <span class="o">=</span> <span class="nx">TestBed</span><span class="p">.</span><span class="nf">createComponent</span><span class="p">(</span><span class="nx">TestComponent</span><span class="p">);</span>
    <span class="nx">TestBed</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="nx">Router</span><span class="p">)</span>
      <span class="p">.</span><span class="nf">navigate</span><span class="p">([</span><span class="dl">'</span><span class="s1">/home</span><span class="dl">'</span><span class="p">])</span>
        <span class="p">.</span><span class="nf">then</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="nf">expect</span><span class="p">(</span><span class="nx">location</span><span class="p">.</span><span class="nx">pathname</span><span class="p">.</span><span class="nf">endsWith</span><span class="p">(</span><span class="dl">'</span><span class="s1">/home</span><span class="dl">'</span><span class="p">)).</span><span class="nf">toBe</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
        <span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="nx">e</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">e</span><span class="p">));</span>
  <span class="p">}));</span>

  <span class="nf">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">can navigate to home (fakeAsync/tick)</span><span class="dl">'</span><span class="p">,</span> <span class="nf">fakeAsync</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">fixture</span> <span class="o">=</span> <span class="nx">TestBed</span><span class="p">.</span><span class="nf">createComponent</span><span class="p">(</span><span class="nx">TestComponent</span><span class="p">);</span>
    <span class="nx">TestBed</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="nx">Router</span><span class="p">).</span><span class="nf">navigate</span><span class="p">([</span><span class="dl">'</span><span class="s1">/home</span><span class="dl">'</span><span class="p">]);</span>
    <span class="nx">fixture</span><span class="p">.</span><span class="nf">detectChanges</span><span class="p">();</span>
    <span class="c1">//execute all pending asynchronous calls</span>
    <span class="nf">tick</span><span class="p">();</span>
    <span class="nf">expect</span><span class="p">(</span><span class="nx">location</span><span class="p">.</span><span class="nx">pathname</span><span class="p">.</span><span class="nf">endsWith</span><span class="p">(</span><span class="dl">'</span><span class="s1">/home</span><span class="dl">'</span><span class="p">)).</span><span class="nf">toBe</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
  <span class="p">}));</span>

  <span class="nf">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">can navigate to home (done)</span><span class="dl">'</span><span class="p">,</span> <span class="nx">done</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">fixture</span> <span class="o">=</span> <span class="nx">TestBed</span><span class="p">.</span><span class="nf">createComponent</span><span class="p">(</span><span class="nx">TestComponent</span><span class="p">);</span>
    <span class="nx">TestBed</span><span class="p">.</span><span class="nf">get</span><span class="p">(</span><span class="nx">Router</span><span class="p">)</span>
      <span class="p">.</span><span class="nf">navigate</span><span class="p">([</span><span class="dl">'</span><span class="s1">/home</span><span class="dl">'</span><span class="p">])</span>
        <span class="p">.</span><span class="nf">then</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
          <span class="nf">expect</span><span class="p">(</span><span class="nx">location</span><span class="p">.</span><span class="nx">pathname</span><span class="p">.</span><span class="nf">endsWith</span><span class="p">(</span><span class="dl">'</span><span class="s1">/home</span><span class="dl">'</span><span class="p">)).</span><span class="nf">toBe</span><span class="p">(</span><span class="kc">true</span><span class="p">);</span>
          <span class="nf">done</span><span class="p">();</span>
        <span class="p">}).</span><span class="k">catch</span><span class="p">(</span><span class="nx">e</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">e</span><span class="p">));</span>
  <span class="p">});</span>
<span class="p">});</span>

</code></pre></div></div>
<p>Wir haben <code class="language-plaintext highlighter-rouge">RouterTestingModule.withRoutes(routes)</code> importiert, um die Routerinstanz mit den Routes für unsere Tests zu initialisieren (Zeile 6). Im obigen Code haben wir getestet, dass wir mit <code class="language-plaintext highlighter-rouge">async</code>, <code class="language-plaintext highlighter-rouge">asyncFake/tick</code> und <code class="language-plaintext highlighter-rouge">done</code> nach Hause navigieren können.</p>

<p><em>„FakeAsync/tick sind ideal für komplexe asynchrone Test ohne XHR“</em></p>

<h3 id="8-observables-testen">8. Observables testen</h3>

<p>Observables sind optimal, um asynchrone Aufgaben zu meistern. Sie werden an wenigen Stellen in Angular, wie <code class="language-plaintext highlighter-rouge">Http</code>, Form controls, validations oder hinter <code class="language-plaintext highlighter-rouge">EventEmitter</code> verwendet. Wir werden das <code class="language-plaintext highlighter-rouge">Observable</code> unten verwenden, um zu zeigen, wie wir ihr Verhalten testen können.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">describe</span><span class="p">(</span><span class="dl">'</span><span class="s1">Observable: basic observable</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">var</span> <span class="nx">basic$</span><span class="p">;</span>

  <span class="c1">//setup</span>
  <span class="nf">beforeEach</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">basic$</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">Observable</span><span class="p">(</span><span class="nx">observer</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="c1">//pushing values</span>
      <span class="nx">observer</span><span class="p">.</span><span class="nf">next</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
      <span class="nx">observer</span><span class="p">.</span><span class="nf">next</span><span class="p">(</span><span class="mi">2</span><span class="p">);</span>
      <span class="nx">observer</span><span class="p">.</span><span class="nf">next</span><span class="p">(</span><span class="mi">3</span><span class="p">);</span>
      <span class="c1">//complete stream</span>
      <span class="nx">observer</span><span class="p">.</span><span class="nf">complete</span><span class="p">();</span>
    <span class="p">});</span>
  <span class="p">})</span>

  <span class="c1">//specs</span>
  <span class="nf">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">should create the expected sequence (async)</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="kd">let</span> <span class="nx">expected</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span><span class="mi">2</span><span class="p">,</span><span class="mi">3</span><span class="p">],</span>
      <span class="nx">index</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="nx">basic$</span>
      <span class="p">.</span><span class="nf">subscribe</span><span class="p">({</span>
        <span class="na">next</span><span class="p">:</span> <span class="nx">x</span> <span class="o">=&gt;</span> <span class="nf">expect</span><span class="p">(</span><span class="nx">x</span><span class="p">).</span><span class="nf">toEqual</span><span class="p">(</span><span class="nx">expected</span><span class="p">[</span><span class="nx">index</span><span class="o">++</span><span class="p">]),</span>
        <span class="na">error</span><span class="p">:</span> <span class="nx">e</span> <span class="o">=&gt;</span> <span class="nx">console</span><span class="p">.</span><span class="nf">log</span><span class="p">(</span><span class="nx">e</span><span class="p">)</span>
      <span class="p">});</span>
  <span class="p">}));</span>
<span class="p">});</span>

</code></pre></div></div>

<p>Wir haben eine <code class="language-plaintext highlighter-rouge">Observable</code> geschaffen, welche 1,2,3 aussendet und abschließt. Um zu testen, richten wir die nächsten ein, error und complete die Rückrufe auf Abonnieren. Während der nächste Rückrufe einige Male aufgerufen wird, müssen wir unsere Erwartungen dynamisch setzen.</p>

<h3 id="9-eventemitters-testen">9. EventEmitters testen</h3>

<p><code class="language-plaintext highlighter-rouge">EventEmitters</code> werden in Angular verwendet, um Ereignisse zwischen Komponenten zu kommunizieren. Wir haben eine Gegenkomponente namens <code class="language-plaintext highlighter-rouge">Counter</code>, die es uns erlaubt, einen Anfangswert von Null zu erhöhen oder vermindern. Jedes Mal, wenn wir das tun, wird der neue Wert mit einem <code class="language-plaintext highlighter-rouge">EventEmitter</code> als <code class="language-plaintext highlighter-rouge">changes</code> offengelegt.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">@</span><span class="nd">Component</span><span class="p">({</span>
  <span class="na">selector</span><span class="p">:</span> <span class="dl">'</span><span class="s1">counter</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">template</span><span class="p">:</span> <span class="s2">`
    &lt;div&gt;
      &lt;h1&gt;{{counter}}&lt;/h1&gt;
      &lt;button (click)="change(1)"&gt;+1&lt;/button&gt;
      &lt;button (click)="change(-1)"&gt;-1&lt;/button&gt;
    &lt;/div&gt;`</span>
<span class="p">})</span>
<span class="k">export</span> <span class="kd">class</span> <span class="nc">Counter</span> <span class="p">{</span>
  <span class="p">@</span><span class="nd">Output</span><span class="p">()</span> <span class="nx">changes</span> <span class="o">=</span> <span class="k">new</span> <span class="nc">EventEmitter</span><span class="p">();</span>

  <span class="nf">constructor</span><span class="p">(){</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">counter</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
  <span class="p">}</span>

  <span class="nf">change</span><span class="p">(</span><span class="nx">increment</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">counter</span> <span class="o">+=</span> <span class="nx">increment</span><span class="p">;</span>
    <span class="c1">//we use emit as next is marked as deprecated</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">changes</span><span class="p">.</span><span class="nf">emit</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">counter</span><span class="p">);</span>
  <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>
<p>Dieses Setup wird dem von Observables sehr ähnlich sein.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nf">describe</span><span class="p">(</span><span class="dl">'</span><span class="s1">EventEmitter: Counter</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="kd">let</span> <span class="nx">counter</span><span class="p">;</span>

  <span class="c1">//setup</span>
  <span class="nf">beforeEach</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="nx">TestBed</span><span class="p">.</span><span class="nf">configureTestingModule</span><span class="p">({</span>
    <span class="na">providers</span><span class="p">:</span> <span class="p">[</span> <span class="nx">Counter</span> <span class="p">]</span>
  <span class="p">}));</span>

  <span class="nf">beforeEach</span><span class="p">(</span><span class="nf">inject</span><span class="p">([</span><span class="nx">Counter</span><span class="p">],</span> <span class="nx">c</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">counter</span> <span class="o">=</span> <span class="nx">c</span><span class="p">;</span>
  <span class="p">}))</span>

  <span class="c1">//specs</span>
  <span class="nf">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">should increment +1 (async)</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">counter</span><span class="p">.</span><span class="nx">changes</span><span class="p">.</span><span class="nf">subscribe</span><span class="p">(</span><span class="nx">x</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nf">expect</span><span class="p">(</span><span class="nx">x</span><span class="p">).</span><span class="nf">toBe</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
    <span class="p">});</span>
    <span class="nx">counter</span><span class="p">.</span><span class="nf">change</span><span class="p">(</span><span class="mi">1</span><span class="p">);</span>
  <span class="p">}));</span>

  <span class="nf">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">should decrement -1 (async)</span><span class="dl">'</span><span class="p">,</span> <span class="k">async</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">counter</span><span class="p">.</span><span class="nx">changes</span><span class="p">.</span><span class="nf">subscribe</span><span class="p">(</span><span class="nx">x</span> <span class="o">=&gt;</span> <span class="p">{</span>
      <span class="nf">expect</span><span class="p">(</span><span class="nx">x</span><span class="p">).</span><span class="nf">toBe</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
    <span class="p">});</span>
    <span class="nx">counter</span><span class="p">.</span><span class="nf">change</span><span class="p">(</span><span class="o">-</span><span class="mi">1</span><span class="p">);</span>
  <span class="p">}));</span>
<span class="p">})</span>

</code></pre></div></div>
<p>In diesem Fall überprüfen wir, dass wir mit dem Abonnement auf dem <code class="language-plaintext highlighter-rouge">EventEmitter</code> <code class="language-plaintext highlighter-rouge">increment</code> oder <code class="language-plaintext highlighter-rouge">decrement</code> benutzen, da es ein Observable aussetzt. Wir lösen die verschiedenen Werte aus, indem wir die Änderungsmethode anrufen und unsere Erwartungen im nächsten Rückruf überprüfen.</p>

<p>Alle Tests, die in diesem Beitrag enthalten waren, und noch mehr findest auf <a href="https://plnkr.co/edit/jm6T17qPbzM8abmRMckw?preview" rel="noreferrer noopener" target="_blank">Plunker</a>.</p>

<p>Das ist alles! Danke fürs Lesen! Hast du fragen? Wenn ja dann benachrichtige mich auf <a href="https://medium.com/google-developer-experts/angular-2-testing-guide-a485b6cb1ef0" rel="noopener noreferrer nofollow" target="_blank">@gerardsans</a>.</p>

<h3 id="willst-du-mehr">Willst du mehr?</h3>

<p>Wenn du weitere Beispiele benötigst, wende dich bitte an mich bei <em>gerard_dot_sans_at_gmail_dot_com</em> oder schau mal bei <a href="https://github.com/angular/angular/tree/e748adda2e7a1f6e302628d0d76b5c3d1e3fc196/modules/angular2/test" rel="noreferrer noopener" target="_blank">Angular Unit Tests</a> in GitHub vorbei!</p>


        </div>

        <div class="text-end">
          <a class="btn btn-sm btn-link link-secondary" href="https://github.com/workshops-de/angular.de/edit/master/_posts/2017-08-04-angular-testing/2017-08-04-angular-testing.md" target="_blank" rel="noopener noreferrer nofollow">
            🐛 Diesen Artikel auf GitHub verbessern
          </a>
        </div>
      </div>
      <div class="col-lg-4 d-none d-lg-block">
        <div class="position-sticky c-top-4 ms-2">
          <p class="text-muted text-uppercase"><small>Inhaltsverzeichnis</small></p>
          <nav id="toc" data-toggle="toc"></nav>
          <!-- <hr> -->
          <!-- <div>
            <div class="h5 mb-2">Email Newsletter</div>
            <p class="small mb-2">Um alle Neuigkeiten zu erfahren, abonniere hier unseren Newsletter!</p>
            <a class="btn btn-sm btn-primary" href="/newsletter/redirect/article" target="_blank">
              Newsletter abonnieren
            </a>
          </div> -->

          <div class="mt-4">
            <a href="https://ng-de.org?utm_source=angular_de&utm_campaign=conference2025&utm_medium=portal&utm_content=article_sidebar"
               target="_blank"
               class="d-block text-decoration-none">
              <div class="card border-0 shadow-sm h-100" style="transition: all 150ms;">
                <img src="/assets/img/ngde-conf-ad.png"
                     class="card-img-top rounded-top"
                     alt="NG-DE Conference - November 5-7, 2025"
                     style="object-fit: cover; height: 100%;">
                <div class="card-body p-3">
                  <h5 class="card-title text-dark fw-bold mb-2">NG-DE Conference</h5>
                  <p class="card-text text-muted small mb-2">
                    The community-driven Angular conference in Germany
                  </p>
                  <div class="d-flex align-items-center mb-2">
                    <i class="fa fa-calendar text-primary me-2" style="width: 12px;"></i>
                    <small class="text-muted">November 5-7, 2025</small>
                  </div>
                  <div class="d-flex align-items-center mb-3">
                    <i class="fa fa-map-marker text-primary me-2" style="width: 12px;"></i>
                    <small class="text-muted">Berlin</small>
                  </div>
                  <div class="d-flex justify-content-between align-items-center">
                    <span class="btn btn-primary btn-sm fw-bold text-uppercase" style="font-size: 0.7rem; letter-spacing: 0.05em; padding: 0.375rem 0.75rem;">
                      Get your ticket now!
                    </span>
                  </div>
                </div>
              </div>
            </a>
          </div>

          <style>
            .mt-4 a:hover .card {
              box-shadow: 0 0 4px 0 rgba(0,0,0,0.35) !important;
            }

            .mt-4 a:hover .card-title {
              color: #0d6efd !important;
            }
          </style>
        </div>
      </div>
    </div>
    <div class="row mt-4">
      <div class="col-md-12 col-lg-8">
        <!-- author info -->

<div class="row">
  <div class="col-sm-3 col-md-2">
    <span>
      <img alt="Gerard Sans" class="shadow-sm rounded img-fluid lazy"
      src="/shared/assets/img/placeholder-image.svg"
      
      data-src="/assets/img/gravatars/67c5b4074981e4c2b01566d95f9e0a28-160x160.jpg"
      data-srcset="/assets/img/gravatars/67c5b4074981e4c2b01566d95f9e0a28-160x160.jpg"
      
      >
    </span>
  </div>
  <div class="col-sm-9 col-md-10">
    <p class="h5 text-truncate mb-2">
      Gerard Sans
    </p>
    
      <p class="text-muted small">
        Google Developer Expert | Coding is fun | Just be awesome | Blogger Speaker Trainer Community Leader | @angular_zone @graphql_london @ngcruise Made in London ☂

      </p>
    
    <div>
      
      
        <a href="https://github.com/gsans" class="btn btn-sm btn-outline-secondary" target="_blank">Github</a>
      
      
      
    </div>
  </div>
</div>

        
      </div>
    </div>
  </article>

  <div class="container-fluid">
    <div class="row justify-content-md-center no-gutters mt-6">
      





  
  

  

  
    <div class="col-sm-6 p-0">
  <a class="ratio ratio-16x9 d-flex align-items-center c-img-bg-backdrop c-bg-img-cover-center lazy"
    style="background-image: url('/shared/assets/img/placeholder-image.svg');"
    href="/artikel/ng-de-conference-2025-ankuendigung/"
    data-style="background-image: url('/artikel/ng-de-conference-2025-ankuendigung/header.jpg')"
    >
    <div class="d-flex flex-column align-items-center justify-content-center px-4">
      <div class="text-center w-100 h2 text-white">
        NG-DE Conference 2025 wieder in Berlin
      </div>
      <button class="btn btn-outline-light">Hier weiterlesen</button>
    </div>
  </a>
</div>


    
    
  



  
  

  

  
    <div class="col-sm-6 p-0">
  <a class="ratio ratio-16x9 d-flex align-items-center c-img-bg-backdrop c-bg-img-cover-center lazy"
    style="background-image: url('/shared/assets/img/placeholder-image.svg');"
    href="/artikel/angular-tutorial-deutsch/"
    data-style="background-image: url('/artikel/angular-tutorial-deutsch/header.jpg')"
    >
    <div class="d-flex flex-column align-items-center justify-content-center px-4">
      <div class="text-center w-100 h2 text-white">
        Angular 20 Tutorial für Einsteiger
      </div>
      <button class="btn btn-outline-light">Hier weiterlesen</button>
    </div>
  </a>
</div>


    
    
      

    </div>
  </div>
</main>

  
<div class="newsletter-section d-print-none py-5">
  <div class="container">
    <p class="lead text-center">Du möchtest immer auf dem aktuellsten Stand sein? - Melde Dich für unseren Newsletter an!</p>
    <div class="text-center">
      <a class="btn btn-primary" href="/newsletter/redirect/footer" target="_blank">
        Jetzt für Neuigkeiten zu Angular anmelden!
      </a>
    </div>
  </div>
</div>


  <footer>
  <div class="container">
    <div class="row">
      <div class="col-6 col-sm-3 mb-2">
        <div class="h4 mb-2">Angular.DE</div>
        <small>
          <span class="fw-bolder">Powered by <a href="https://workshops.de?utm_source=angular_de&utm_campaign=crossmarketing_permanent&utm_medium=portal&utm_content=footer_nav">Workshops.DE</a></span>.
        </small>
      </div>
      <div class="col-6 col-sm-3 mb-2">
        <div class="h6 text-uppercase">Navigation</div>
        <ul class="footer-nav">
          <li><a href="/artikel/">Artikel</a></li>
          <li><a href="/tutorials/">Tutorials</a></li>
          <li><a href="/schulungen/">Schulungen</a></li>
          <li><a href="https://workshops.de/seminare-schulungen-kurse/angular-lifetime?utm_source=angular_de&utm_campaign=crossmarketing_permanent&utm_medium=portal&utm_content=footer_nav" target="_blank">Lifetime</a></li>
          <li><a href="/meetups/">Meetups</a></li>
          <li><a href="/team/">Team</a></li>
          <li><a href="/presskit/">Presskit</a></li>
        </ul>
      </div>
      <div class="col-6 col-sm-3 mb-2">
        <div class="h6 text-uppercase">Communities</div>
        <ul class="footer-nav">
          <li><a href="https://reactjs.de?utm_source=angular_de&utm_campaign=crossmarketing_permanent&utm_medium=portal&utm_content=footer_nav" target="_blank">ReactJS.DE</a></li>
          <li><a href="https://vuejs.de?utm_source=angular_de&utm_campaign=crossmarketing_permanent&utm_medium=portal&utm_content=footer_nav" target="_blank">VueJS.DE</a></li>
          <li><a href="https://cloudnative.eu?utm_source=angular_de&utm_campaign=crossmarketing_permanent&utm_medium=portal&utm_content=footer_nav" target="_blank">CloudNative.EU</a></li>
          <li><a href="https://a11y-masterclass.de?utm_source=angular_de&utm_campaign=crossmarketing_permanent&utm_medium=portal&utm_content=footer_nav" target="_blank">a11y Masterclass</a></li>
          <li><a href="https://workshops.de?utm_source=angular_de&utm_campaign=crossmarketing_permanent&utm_medium=portal&utm_content=footer_nav" target="_blank">Workshops.DE</a></li>
          <li><a href="https://www.coding-bootcamps.eu?utm_source=angular_de&utm_campaign=crossmarketing_permanent&utm_medium=portal&utm_content=footer_nav" target="_blank">Coding Bootcamp Europe</a></li>
          <li><a href="https://ng-de.org?utm_source=angular_de&utm_campaign=conference2025&utm_medium=portal&utm_content=footer_nav" target="_blank">NG-DE Konferenz</a></li>
        </ul>
      </div>
      <div class="col-6 col-sm-3 mb-2">
        <div class="h6 text-uppercase">Folge uns hier</div>
        <ul class="footer-nav">
          <li>
            <a href="https://twitter.com/angular_de" target="_blank" rel="noopener">Twitter</a>
          </li>
          <li>
            <a href="https://github.com/workshops-de" target="_blank" rel="noopener">GitHub</a>
          </li>
          <li><a href="/feed.xml" target="_blank" rel="nofollow">RSS-Feed</a></li>
        </ul>
      </div>
    </div>
    <hr />
    <div class="row align-items-center">
      <div class="col-6 small">
        Copyright © 2025 Symetics GmbH
      </div>
      <div class="col-6">
        <ul class="nav justify-content-end">
          <li class="nav-item">
            <a class="nav-link" href="/impressum/">Impressum</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/datenschutz/">Datenschutz</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</footer>

  
  

  

  
  


  <script type="text/javascript">
  (() => {

    function lazyLoadImages() {
      var lazyImages = [].slice.call(document.querySelectorAll("img.lazy"));

      if ("IntersectionObserver" in window) {
        let lazyImageObserver = new IntersectionObserver(function(entries, observer) {
          entries.forEach(function(entry) {
            if (entry.isIntersecting) {
              let lazyImage = entry.target;
              lazyImage.src = lazyImage.dataset.src;
              lazyImage.srcset = lazyImage.dataset.srcset;
              lazyImage.classList.remove("lazy");
              lazyImageObserver.unobserve(lazyImage);
            }
          });
        });

        lazyImages.forEach(function(lazyImage) {
          lazyImageObserver.observe(lazyImage);
        });
      } else {
        // Possibly fall back to a more compatible method here
        lazyImages.forEach(function(lazyImage) {
          lazyImage.src = lazyImage.dataset.src;
          lazyImage.srcset = lazyImage.dataset.srcset;
          lazyImage.classList.remove("lazy");
        });
      }
    }

    function lazyLoadBackgroundImages() {
      var lazyImages = [].slice.call(document.querySelectorAll("a.lazy"));

      if ("IntersectionObserver" in window) {
        let lazyImageObserver = new IntersectionObserver(function(entries, observer) {
          entries.forEach(function(entry) {
            if (entry.isIntersecting) {
              let lazyImage = entry.target;
              lazyImage.style = lazyImage.dataset.style;
              lazyImage.classList.remove("lazy");
              lazyImageObserver.unobserve(lazyImage);
            }
          });
        });

        lazyImages.forEach(function(lazyImage) {
          lazyImageObserver.observe(lazyImage);
        });
      } else {
        // Possibly fall back to a more compatible method here
        lazyImages.forEach(function(lazyImage) {
          lazyImage.src = lazyImage.dataset.src;
          lazyImage.srcset = lazyImage.dataset.srcset;
          lazyImage.classList.remove("lazy");
        });
      }
    }

    document.addEventListener("DOMContentLoaded", function() {
      lazyLoadImages();
      lazyLoadBackgroundImages();
      });
  })();
</script>

  <!-- JavaScript -->
  <script src="/shared/assets/js/vendor/jquery-3.2.1.slim.min.js"></script>
  <script src="/shared/assets/js/vendor/bootstrap.min.js"></script>
  <script src="/shared/assets/js/vendor/fp-3.0.0.min.js"></script>
  <script src="/shared/assets/js/vendor/headroom.min.js"></script>
  <script src="/shared/assets/js/app.js"></script>
  
  <script src="/shared/assets/js/vendor/bootstrap-toc-1.0.0.min.js"></script>
  
  
  
</body>

</html>
