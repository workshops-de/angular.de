<!DOCTYPE html>
<html lang="de">

<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#">
  <meta charset="utf-8">
  <link rel="dns-prefetch" href="//www.google-analytics.com">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="keywords" content="">

  <title>Redux in Angular - Einführung und Konzepte | Angular.DE</title>
  
  <meta name="description" content="Redux ist eine Implementierung des Flux Patterns. Es ist dafür da, die Verwaltung von euerm Application-State in eine klare und wartbare Struktur zu bringen.">
  

  
  <!-- Use canonical_url if available is post -->
  
  <link rel="canonical" href="http://localhost:4000/artikel/angular-redux-einfuehrung/">
  
  

  

  <!-- Facebook Tags -->

  <meta name="og:title" content="Redux in Angular - Einführung und Konzepte - Angular.DE">



  <meta property="og:description" content="Redux ist eine Implementierung des Flux Patterns. Es ist dafür da, die Verwaltung von euerm Application-State in eine klare und wartbare Struktur zu bringen.">


<meta property="og:url" content="http://localhost:4000/artikel/angular-redux-einfuehrung/" />

  <meta property="og:type" content="article" />



  <meta property="og:image" content="http://localhost:4000/opengraph/default.png" />


<!-- Twitter Tags -->
<meta name="twitter:card" content="summary_large_image">


  <meta name="twitter:title" content="Redux in Angular - Einführung und Konzepte - Angular.DE">


<meta name="twitter:site" content="@angular_de">
<meta name="twitter:creator" content="@angular_de">

  <meta name="twitter:description" content="Redux ist eine Implementierung des Flux Patterns. Es ist dafür da, die Verwaltung von euerm Application-State in eine klare und wartbare Struktur zu bringen.">


  <meta name="twitter:image" content="http://localhost:4000/artikel/angular-redux-einfuehrung/header.jpg">



  <link rel="icon" href="/assets/img/favicon.ico?v=2" type="image/x-icon" />
  <link rel="stylesheet" href="/assets/css/app.css?1750255920177315000">
  
  <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "url": "http://localhost:4000",
  "logo": "http://localhost:4000/assets/img/logo.svg",
  "sameAs":[
    "https://twitter.com/angular_de"
  ]
}
</script>
  
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "http://localhost:4000"
    },
    
      
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Artikel",
      "item": "http://localhost:4000/artikel/"
    },
      
    
      
    {
      "@type": "ListItem",
      "position": 3,
      "name": "Redux in Angular - Einführung und Konzepte"
    }
      
    
  ]
}
</script>
</head>

<!-- Position relative is for Bootstrap TOC Plugin -->

<body style="position: relative" data-bs-spy="scroll" data-bs-target="#toc">
  <div class="navbar-wrapper">
  
  <div class="navbar-banner">
    <div class="d-flex align-items-center justify-content-center">
      <a href="https://workshops.de/schulungsthemen/angular?utm_source=angular_de&utm_campaign=group_discount&utm_medium=portal&utm_content=banner" target="_blank">Wir bieten einen <b>3=2 Rabatt</b> auf Schulungen an! Buche 2 Teilnehmer:innen und der/die Dritte ist kostenfrei.</a>
    </div>
  </div>



  <nav class="navbar navbar-main navbar-expand-lg">
    <div class="container">
      <a class="navbar-brand p-0 me-4" href="/">
        <img alt="Angular.DE powered by workshops.de" src="/assets/img/logo-with-poweredby.svg" height="45">
      </a>
      <button class="navbar-toggler navbar-toggler-right" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse mt-3 mt-sm-0" id="navbarNav">
        <ul class="navbar-nav me-auto">
          <li class="nav-item active">
            <a class="nav-link" href="/artikel/">Artikel</a>
          </li>
          <li class="nav-item ">
            <a class="nav-link" href="/artikel/angular-tutorial-deutsch/">Tutorial</a>
          </li>
          <li class="nav-item ">
            <a class="nav-link" href="/schulungen/angular-intensiv/">Schulung</a>
          </li>
          <!-- <li class="nav-item">
            <a class="nav-link" href="https://workshops.de/seminare-schulungen-kurse/angular-lifetime?utm_source=angular_de&utm_campaign=crossmarketing_permanent&utm_medium=portal&utm_content=navigation" target="_blank">Lifetime</a>
          </li>-->
          <li class="nav-item ">
            <a class="nav-link" href="/ng-de-konferenz/">NG-DE Konferenz</a>
          </li>
          <li class="nav-item ">
            <a class="nav-link" href="/team/">Team</a>
          </li>
          <!-- <li class="nav-item">
            <a class="nav-link" href="/discord" target="_blank"><span class="visually-hidden">Community </span>Discord</a>
          </li> -->
          <!-- <li class="nav-item ">
            <a class="nav-link" href="/jobs/">Jobs</a>
          </li> -->
        </ul>
        <form class="form-inline d-none d-lg-inline" action="/suche/" method="GET">
          <input name="q" class="form-control navbar-search" type="search" placeholder="&#xF002;" autocomplete="off">
        </form>
      </div>
    </div><!-- .container -->
  </nav>
</div>


  


<main role="main" class="mt-4">
  <article lang="de" class="container">

    <div class="ratio mb-4" style="--bs-aspect-ratio: 30%;">
      <img src="header.jpg" class="rounded w-100 object-fit-cover" alt="Artikel Header Bild zu Redux in Angular - Einführung und Konzepte" />
    </div>
    <div class="row mb-5 gx-6">
      <div class="col-md-12 col-lg-8 mb-2">
        <h1 class="header-post-title">Redux in Angular - Einführung und Konzepte</h1>

        <p class="text-muted">
          <small>
            
            <a href="/kategorie/angular/" class="badge bg-secondary text-bg-secondary text-uppercase">angular</a>
            
            <a href="/kategorie/redux/" class="badge bg-secondary text-bg-secondary text-uppercase">redux</a>
            
            <a href="/kategorie/tutorial/" class="badge bg-secondary text-bg-secondary text-uppercase">tutorial</a>
            
            <span class="ms-1 me-1">|</span>
            Gerard Sans
            
            
            <span class="ms-1 me-1">•</span> <time>24.07.2017</time>
            <span class="ms-1 me-1">|</span>
            


  17 Minuten


          </small>
        </p>


        <div class="c-content">
          <h2 id="warum-redux">Warum Redux?</h2>

<p>State Verwaltung in komplexen Anwendungen kann schnell zu einem Problem werden.
Autonome und wiederverwendbare Komponenten, auch “Dumb Components” genannt, kommunizieren über <code class="language-plaintext highlighter-rouge">@Input</code> und <code class="language-plaintext highlighter-rouge">@Output</code>.
Dies ist auch vollkommen richtig so, allerdings hat jede Anwendung auch Komponenten die unsere Orchestrierung unserer eigentlich Fachlogik übernehmen, auch “Smart Components” genannt.
Um den Zustand der kompletten Anwendung wartbar und nach einer klaren Struktur aufzubauen, bieten sich Pattern wie das Flux-Pattern an.
Redux ist die bekannteste und beliebste Implementierung von diesem Pattern.</p>

<h2 id="was-ist-redux">Was ist Redux?</h2>

<p>Version 3 von <a href="https://github.com/rackt/redux" rel="noopener noreferrer nofollow" target="_blank">Redux</a> gibt es seit weniger als einem Jahr, aber es hat sich bereits als sehr erfolgreich erwiesen.
Inspiriert von <a href="https://facebook.github.io/flux/" rel="noopener noreferrer nofollow" target="_blank">Flux</a> und <a href="http://elm-lang.org/" rel="noopener noreferrer nofollow" target="_blank">Elm</a> wird es verwendet, um den Anwendungsstatus zu händeln und es effektiv an die Benutzeroberfläche zu binden.
Redux ermöglicht außerdem mit wenig Aufwand Features wie <em>hot reloading</em> oder <em>time travel</em>.
Redux wird oft zusammen mit React verwendet, ist aber nicht an ein bestimmtes Framework gebunden.</p>

<p>Redux baut auf Flux-Pattern auf. Für dieses Tutorial braucht ihr aber keine Erfahrung.
Wir werden alle Grundlagen hiermit behandeln.
In diesem Artikel werden wir ein Todo-Listen-Beispiel aus React verwenden, welches aus dem neuesten Redux-Videokurs von <a href="https://medium.com/@dan_abramov" rel="noopener noreferrer nofollow" target="_blank">Dan Abramov</a> stammt.</p>

<h2 id="warum-nicht-ngrx">Warum nicht ngRX</h2>

<p>Warum nutzen wir nicht ngRX, die Standard-Implementierung in Angular für Redux?</p>

<p>Dieses Beispiel soll so simple wie möglich gehalten werden.
Falls ihr mit Redux in euer Angular Anwendung arbeiten wollt, empfehle ich euch <code class="language-plaintext highlighter-rouge">ngRx</code>.
Allerdings zielt dieser Artikel auf die Kommunikation der Konzepte, wofür sich diese simple Version von Redux mehr eignet.
ngRx enthält noch Erweiterungen wie <code class="language-plaintext highlighter-rouge">Observables</code>, welche die Beispiele an dieser Stelle unnötig komplex machen würden.</p>

<hr>

<div class="workshop-hint">
  <div class="h3">Lieber gemeinsam ausprobieren und diskutieren?</div>
  <div class="row mb-2">
    <div class="col-xs-12 col-md-6">
      <p>
        Du möchtest Angular und Redux in deinem Projekt einsetzen, bist dir aber unsicher ob und wie du das am besten schaffst? Wir behandeln das Thema Redux mit ngRX intensiv in unserer
        <a target="_blank" href="https://workshops.de/seminare-schulungen-kurse/angular-enterprise-applications?utm_source=angular_de&amp;utm_campaign=tutorial&amp;utm_medium=portal&amp;utm_content=text-top-link">Angular
                    Advanced Schulung</a> und entwickeln mit dir gemeinsam Beispiele, die du direkt in deinem Projekt einsetzen kannst.
      </p>
      <p class="text-center">
        <a target="_blank" href="https://workshops.de/seminare-schulungen-kurse/angular-enterprise-applications?utm_source=angular_de&amp;utm_campaign=tutorial&amp;utm_medium=portal&amp;utm_content=text-top-button">
          <button class="btn btn-danger">Mehr Informationen zur Schulung</button>
        </a>
      </p>
    </div>
    <div class="col-xs-12 col-md-6">
      <img class="img-fluid img-rounded" src="/assets/img/workshops/teilnehmer-workshop.png" alt="Teilnehmer:innen in der Veranstaltung Angular &amp; Typescript Intensiv Workshop/Schulung">
    </div>
  </div>
</div>
<hr>

<h2 id="einführung-in-redux">Einführung in Redux</h2>
<p>Redux folgt drei Grundprinzipien:</p>

<ul>
  <li>Ein unveränderlicher State Tree</li>
  <li>Unidirektionaler Datenfluss</li>
  <li>Änderungen am State werden nur mit reinen Funktionen(pure functions) vorgenommen (Reducers)</li>
</ul>

<p>Durch diese Grundsätze können wir ein vorhersagbares und reproduzierbares Anwendungsverhalten erreichen.
Das nächste Diagramm zeigt eine Übersicht der verschiedenen Komponenten von Redux, welche wir nun Schritt für Schritt erklären werden.</p>

<div class="text-center">
  <img src="redux-overview.png" alt="Redux Overview">
</div>

<h3 id="actions">Actions</h3>
<p>Dies sind tatsächliche Aktionen oder auch Ereignisse in unserer Anwendung, welche potentiell den State bearbeiten.
Sie können vom Benutzer oder der Serverseite erzeugt werden.
Sie sind die einzige Informationsquelle für den <em>Store</em>.
Änderungen am Store werden ausschließlich über Actions angestoßen.
Actions sind einfache JavaScript-Objekte, die eine Änderung beschreiben und eine <em>type</em> Eigenschaft eindeutige Identifizierung verwenden.</p>

<p>Hier ein Beispiel für eine sehr simple Action:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="nl">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">TOGGLE_TODO</span><span class="dl">'</span><span class="p">,</span>
  <span class="nx">id</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Um diese Action-Objekte zu erzeugen werden auch meist <em>Action Creators</em> genutzt.
Diese sind Komponenten, welche Helfer-Methoden enthalten, um spezifische Aktionen erstellen.
Diese Action-Creator helfen uns dabei die Objekte einfacher zusammen zu bauen und schützen uns vor Struktur- und Tipp-Fehler.</p>

<p>Die fertige Action beschreibt das, was in unserer Anwendung passiert ist und gibt diese Information weiter an die <em>Reducers</em>.</p>

<h3 id="reducers">Reducers</h3>
<p><em>Reducers</em> geben an, wie sich der Zustand in Reaktion auf eine <em>Action</em> ändert.
Alle <em>Reducers</em> müssen <a href="https://en.wikipedia.org/wiki/Pure_function" rel="noreferrer noopener" target="_blank">reine Funktionen</a> sein, das bedeutet:</p>

<ul>
  <li>Sie produzieren die gleiche Ausgabe bei gleicher Eingabe</li>
  <li>Sie produzieren keine <em>side effects</em> (z.B.: mutierter Zustand, Anrufe zum Backend)</li>
</ul>

<p>Reducers erschaffen bei Änderungen immer ein neues State-Objekt, um Nebenwirkungen zu vermeiden.
Eine erweiterte Option ist, eine Bibliothek wie <a href="https://immutable-js.com/" rel="noreferrer noopener" target="_blank">immutable.js</a> zu verwenden.
Somit können Komponenten, die auf diesen State zugreifen, anhand der Object-Referenz entscheiden, ob sie neu rendern oder nicht.
Denn nur wenn der State durch ein neues Object dargestellt wird, hat sich der State verändert.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kd">function</span> <span class="nf">rootReducer</span><span class="p">(</span><span class="nx">state</span> <span class="o">=</span> <span class="nx">initialState</span><span class="p">,</span> <span class="nx">action</span><span class="p">){</span>
  <span class="k">switch </span><span class="p">(</span><span class="nx">action</span><span class="p">.</span><span class="nx">type</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">case</span> <span class="nx">TodoActions</span><span class="p">.</span><span class="nx">ADD_TODO</span><span class="p">:</span>
        <span class="c1">//TODO: Implement</span>
        <span class="k">break</span><span class="p">;</span>
    <span class="nl">default</span><span class="p">:</span>
      <span class="c1">// mandatory for sanity (Eg: initialisation)</span>
      <span class="k">return</span> <span class="nx">state</span><span class="p">;</span>
  <span class="p">}</span>
<span class="p">};</span>
</code></pre></div></div>

<p>Es ist gängige Praxis, die <code class="language-plaintext highlighter-rouge">initialState</code> als Standartparameter (Zeile 1) zu definieren und jede Aktion mit einer <a href="https://developer.mozilla.org/en/docs/Web/JavaScript/Reference/Statements/switch" rel="noreferrer noopener" target="_blank">switch</a>-Anweisung zu behandeln.</p>

<h3 id="applicationstore">ApplicationStore</h3>
<p>Redux verwendet einen einzelnen Store, der den <em>Application-State</em> als ein einfaches JavaScript-Objekt enthält.</p>

<p>Der <code class="language-plaintext highlighter-rouge">Application-Store</code> ist zentral für Redux und bietet eine API, um</p>

<ul>
  <li>Aktionen zu triggern <a href="https://github.com/rackt/redux/blob/ec0b1a36e958584b7a11a5977734f04d05955c22/docs/api/Store.md#dispatch" rel="noreferrer noopener" target="_blank">appStore.dispatch</a> (action)</li>
  <li>Listener für Änderungen zu registrieren: <a href="https://github.com/rackt/redux/blob/ec0b1a36e958584b7a11a5977734f04d05955c22/docs/api/Store.md#subscribe" rel="noreferrer noopener" target="_blank">appStore.subscribe</a> (callback)</li>
  <li>Den aktuellen State zu lesen: <a href="https://github.com/rackt/redux/blob/ec0b1a36e958584b7a11a5977734f04d05955c22/docs/api/Store.md#getState" rel="noreferrer noopener" target="_blank">appStore.getState</a> ()</li>
</ul>

<h2 id="to-do-listen-beispiel">To-Do-Listen Beispiel</h2>

<p>Wir werden eine Todo Listen Anwendung erkunden, um zu erfahren, wie wir Redux mit Angular integrieren können.
Dies ist eine grundlegende Implementierung, wo wir neue Todos hinzufügen können, sie als abgeschlossen markieren und filtern.</p>

<div class="text-center">
    <img src="/artikel/angular-redux-einfuehrung/redux-todo-example.gif" alt="Redux Todo Example">
</div>

<h2 id="anwendungs-design">Anwendungs-Design</h2>
<p>In Angular beginnen wir mit der Gestaltung unserer Anwendungen mit einem <code class="language-plaintext highlighter-rouge">component tree</code> und gehen von einer <code class="language-plaintext highlighter-rouge">root</code> Komponente aus. Unten siehst du eine schematische Pseudo-HTML mit allen UI Komponenten: add-todo, todo-list (Child Komponenten: todo), Filter (Chile Componenten_ filter-link).</p>

<div class="language-html highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nt">&lt;root&gt;</span>
  <span class="nt">&lt;add-todo&gt;</span>
    <span class="nt">&lt;input&gt;&lt;button&gt;</span>Add todo<span class="nt">&lt;/button&gt;&lt;/add-todo&gt;</span>
  <span class="nt">&lt;todo-list&gt;&lt;ul&gt;</span>
      <span class="nt">&lt;todo</span> <span class="na">id=</span><span class="s">"0"</span> <span class="na">completed=</span><span class="s">"false"</span><span class="nt">&gt;&lt;li&gt;</span>buy milk<span class="nt">&lt;/li&gt;&lt;/todo&gt;</span>
    <span class="nt">&lt;/ul&gt;&lt;/todo-list&gt;</span>
  <span class="nt">&lt;filters&gt;</span>
    Show: <span class="nt">&lt;filter-link&gt;&lt;a&gt;</span>All<span class="nt">&lt;/a&gt;&lt;filter-link&gt;</span> ... <span class="nt">&lt;/filters&gt;</span>
<span class="nt">&lt;/root&gt;</span>

</code></pre></div></div>
<h2 id="initialisierung-von-redux">Initialisierung von Redux</h2>

<p>Initial müssen wir Redux in unserer Anwendung anmelden und starten.
Dies machen wir, indem wir ein Store erstellen und diesen als Service anmelden.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// src/main.ts</span>
<span class="k">import</span> <span class="p">{</span><span class="nx">createStore</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">redux</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span><span class="nx">rootReducer</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./rootReducer</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span><span class="nx">TodoActions</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./todoActions</span><span class="dl">'</span><span class="p">;</span>
<span class="k">import</span> <span class="p">{</span><span class="nx">APP_DECLARATIONS</span><span class="p">}</span> <span class="k">from</span> <span class="dl">'</span><span class="s1">./app.declarations</span><span class="dl">'</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">appStore</span> <span class="o">=</span> <span class="nf">createStore</span><span class="p">(</span><span class="nx">rootReducer</span><span class="p">);</span>

<span class="p">@</span><span class="nd">NgModule</span><span class="p">({</span>
  <span class="na">declarations</span><span class="p">:</span> <span class="p">[</span>
    <span class="nx">App</span><span class="p">,</span>
    <span class="p">...</span><span class="nx">APP_DECLARATIONS</span>
  <span class="p">],</span>
  <span class="na">providers</span><span class="p">:</span> <span class="p">[</span>
    <span class="p">{</span> <span class="na">provide</span><span class="p">:</span> <span class="dl">'</span><span class="s1">AppStore</span><span class="dl">'</span><span class="p">,</span> <span class="na">useValue</span><span class="p">:</span> <span class="nx">appStore</span> <span class="p">},</span>
    <span class="nx">TodoActions</span>
  <span class="p">]</span>
<span class="p">})</span>
<span class="k">export</span> <span class="kd">class</span> <span class="nc">AppModule</span> <span class="p">{</span> <span class="p">}</span>

<span class="nf">platformBrowserDynamic</span><span class="p">().</span><span class="nf">bootstrapModule</span><span class="p">(</span><span class="nx">AppModule</span><span class="p">);</span>

</code></pre></div></div>

<p>Angular Anwendungen werden im <code class="language-plaintext highlighter-rouge">Application Module</code> gebootstrapped.
Das <code class="language-plaintext highlighter-rouge">Application Module</code> deklariert alle benötigten Components, Directives und Pipes.
Dazu gehören die RootComponent <code class="language-plaintext highlighter-rouge">App</code> und alle Übrigen, die in <code class="language-plaintext highlighter-rouge">APP_DECLARATIONS</code> gruppiert sind.
Globale Abhängigkeiten sind in den <code class="language-plaintext highlighter-rouge">Providers</code> definiert, so dass sie unseren <em>Redux-Komponenten</em> zur Verfügung stehen.
*Siehe <code class="language-plaintext highlighter-rouge">appStore</code> und <code class="language-plaintext highlighter-rouge">TodoActions</code> (Zeilen 15-16).</p>

<p>TodoActions (Klasse) fungiert als <em>ActionCreator</em> mit einer publiken Methode für jede Aktion.
Wir haben Abhängigkeiten importiert (Zeilen 2-5) und realisieren dann <code class="language-plaintext highlighter-rouge">appStore</code> (Zeile 7) mit <a href="https://github.com/rackt/redux/blob/ec0b1a36e958584b7a11a5977734f04d05955c22/docs/api/createStore.md" rel="noreferrer noopener" target="_blank">createStore</a> und übergeben den <code class="language-plaintext highlighter-rouge">rootReducer</code> (Funktion).
Schlussendlich haben wir die normale Angular <code class="language-plaintext highlighter-rouge">bootstrap</code>  Methode mit unserem Modul <code class="language-plaintext highlighter-rouge">AppModule</code> (Zeile 21) verwendet.</p>

<p><em>Du kannst bei <a href="https://v17.angular.io/guide/ngmodules" rel="noreferrer noopener" target="_blank">Angular Modulen</a> (angular.io) mehr darüber lesen, wie ngModules funktionieren</em></p>

<p>Wir melden unseren Store in diesem simplen Beispiel über ein String Token an.
Beachte, dass wir bei der Verwendung eines String-Tokens @Inject(‘AppStore’) innerhalb unserer Komponenten benutzen müssen.
Wir werden das in den folgenden Code-Beispielen genauer ansehen.</p>

<h2 id="anwendungs-state">Anwendungs State</h2>

<p>Der Application Store (<code class="language-plaintext highlighter-rouge">appStore</code>) hält den Anwendungsstatus.
Dieser ist: das Todos array und der aktuelle Filter.</p>

<p>Wir definieren de Ausgangszustand wie folgt:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//src/rootReducer.ts</span>
<span class="kd">const</span> <span class="nx">initialState</span> <span class="o">=</span> <span class="p">{</span>
 <span class="na">todos</span><span class="p">:</span> <span class="p">[],</span>
 <span class="na">currentFilter</span><span class="p">:</span> <span class="dl">'</span><span class="s1">SHOW_ALL</span><span class="dl">'</span>
<span class="p">}</span>

</code></pre></div></div>

<p>Im nächsten Abschnitt werden wir die Struktur für ein todo-Item definieren. Diese Kernstruktur bleibt während der Laufzeit der Anwendung unverändert.</p>

<h3 id="ein-neues-todo-hinzufügen">Ein neues Todo hinzufügen</h3>

<p>Lass uns eine vereinfachte Version der AddTodo Komponente anschauen, die es uns ermöglicht, ein neues Todo hinzuzufügen und auf die Benutzereingaben zu achten.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//src/addTodo.ts</span>
<span class="p">@</span><span class="nd">Component</span><span class="p">({</span>
 <span class="na">selector</span><span class="p">:</span> <span class="dl">'</span><span class="s1">add-todo</span><span class="dl">'</span><span class="p">,</span> <span class="c1">//matches &lt;add-todo&gt;&lt;/add-todo&gt;</span>
 <span class="na">template</span><span class="p">:</span> <span class="s2">`
  &lt;div&gt;
   &lt;input #todo&gt;
   &lt;button (click)=”addTodo(todo)”&gt;Add todo&lt;/button&gt;
  &lt;/div&gt;`</span>
<span class="p">})</span>
<span class="k">export</span> <span class="kd">class</span> <span class="nc">AddTodo</span> <span class="p">{</span>
 <span class="nf">constructor</span><span class="p">(</span>
   <span class="p">@</span><span class="nd">Inject</span><span class="p">(</span><span class="dl">'</span><span class="s1">AppStore</span><span class="dl">'</span><span class="p">)</span> <span class="kr">private</span> <span class="nx">appStore</span><span class="p">:</span> <span class="nx">AppStore</span><span class="p">,</span>
   <span class="kr">private</span> <span class="nx">todoActions</span><span class="p">:</span> <span class="nx">TodoActions</span>
 <span class="p">){}</span>

 <span class="kr">private</span> <span class="nf">addTodo</span><span class="p">(</span><span class="nx">input</span><span class="p">)</span> <span class="p">{</span>
   <span class="k">this</span><span class="p">.</span><span class="nx">appStore</span><span class="p">.</span><span class="nf">dispatch</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">todoActions</span><span class="p">.</span><span class="nf">addTodo</span><span class="p">(</span><span class="nx">input</span><span class="p">.</span><span class="nx">value</span><span class="p">));</span>
   <span class="nx">input</span><span class="p">.</span><span class="nx">value</span> <span class="o">=</span> <span class="err">‘’</span><span class="p">;</span>
 <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>

<p>Im Template (Zeilen 4-8) verwenden wir eine <a href="https://v17.angular.io/guide/template-syntax#!#local-vars" rel="noreferrer noopener" target="_blank">lokale Template-Variable</a> #todo (inline HTML Element, Zeile 6) und übergeben deren Referenz auf das Button-Klickereignis (Zeile 7). Auf dem Konstruktor haben wir appStore und todoActions in die Komponente (Zeilen 11-17) als private Eigenschaften injiziert. Wenn der Benutzer eine Beschreibung eingibt und auf ‘Add Todo’ klickt, wird eine Aktion (Zeile 20) wie die unten abgegeben und den Eingabeinhalt löschen.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="nl">type</span><span class="p">:</span> <span class="err">‘</span><span class="nx">ADD_TODO</span><span class="err">’</span><span class="p">,</span>
  <span class="nx">id</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="nx">text</span><span class="p">:</span> <span class="err">‘</span><span class="nx">buy</span> <span class="nx">milk</span><span class="err">’</span><span class="p">,</span>
  <span class="nx">completed</span><span class="p">:</span> <span class="kc">false</span>
<span class="p">}</span>

</code></pre></div></div>

<p>Um das manuelle Erstellen von Aktionsobjekten in unseren Komponenten zu vermeiden, haben wir die TodoActions Klasse als einen <em>ActionCreator</em> erstellt.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//src/todoActions.ts</span>
<span class="k">export</span> <span class="kd">const</span> <span class="nx">ADD_TODO</span> <span class="o">=</span> <span class="dl">'</span><span class="s1">ADD_TODO</span><span class="dl">'</span><span class="p">;</span> <span class="c1">//convenience token</span>
<span class="p">...</span>

<span class="k">export</span> <span class="kd">class</span> <span class="nc">TodoActions</span> <span class="p">{</span>
 <span class="nf">constructor</span><span class="p">()</span> <span class="p">{</span>
   <span class="k">this</span><span class="p">.</span><span class="nx">nextToDoId</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> <span class="c1">//convenience accumulator</span>
 <span class="p">}</span>

 <span class="nf">addTodo</span><span class="p">(</span><span class="nx">text</span><span class="p">){</span>
   <span class="k">return</span> <span class="p">{</span>
     <span class="na">type</span><span class="p">:</span> <span class="nx">ADD_TODO</span><span class="p">,</span>
     <span class="na">id</span><span class="p">:</span> <span class="k">this</span><span class="p">.</span><span class="nx">nextToDoId</span><span class="o">++</span><span class="p">,</span>
     <span class="na">text</span><span class="p">:</span> <span class="nx">text</span><span class="p">,</span>
     <span class="na">completed</span><span class="p">:</span> <span class="kc">false</span>
   <span class="p">};</span>
 <span class="p">};</span>
<span class="p">}</span>

</code></pre></div></div>

<p>Wir setzen das <em>ADD_TODO</em> Token als Aktionskennzeichen (Zeile 2) ein. Beachte, wie wir das Ktionsobjekt erweitert haben, um die Informationen zu enthalten, wie wir benötigen, um Todos zu identifizieren und sie als abgeschlossen oder nicht abgeschlossen zu markieren (Zeilen 12-15). Nach dem Absenden der Aktion wird der rootReducer von dem Store angerufen, der den <em>currentState (initialState</em> wenn undefiniert) und die User-Aktion übergibt.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//src/rootReducer.ts</span>
<span class="k">case</span> <span class="nx">TodoActions</span><span class="p">.</span><span class="nx">ADD_TODO</span><span class="p">:</span>
  <span class="k">return</span> <span class="p">{</span>
   <span class="na">todos</span><span class="p">:</span> <span class="nx">state</span><span class="p">.</span><span class="nx">todos</span><span class="p">.</span><span class="nf">concat</span><span class="p">({</span>
     <span class="na">id</span><span class="p">:</span> <span class="nx">action</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span>
     <span class="na">text</span><span class="p">:</span> <span class="nx">action</span><span class="p">.</span><span class="nx">text</span><span class="p">,</span>
     <span class="na">completed</span><span class="p">:</span> <span class="nx">action</span><span class="p">.</span><span class="nx">completed</span>
   <span class="p">}),</span>
   <span class="na">currentFilter</span><span class="p">:</span> <span class="nx">state</span><span class="p">.</span><span class="nx">currentFilter</span>
  <span class="p">};</span>

</code></pre></div></div>

<p>Um den neuen Zustand zu schaffen, verwenden wir concat (um einen neuen Array zu erstellen) und behalten die aktuellen Filter.
Diese zeigen zunächst alle Todos an.</p>

<h3 id="ein-todo-umschalten">Ein Todo umschalten</h3>

<p>Jedes Todo kann der Benutzer als abgeschlossen markieren, indem er auf die Stelle über der Beschreibung klickt.
Im Folgenden siehst du eine vereinfachte Markierung für ein aktives Todo:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="o">&lt;</span><span class="nx">todo</span><span class="o">-</span><span class="nx">list</span><span class="o">&gt;&lt;</span><span class="nx">ul</span><span class="o">&gt;</span>
  <span class="o">&lt;</span><span class="nx">todo</span> <span class="nx">id</span><span class="o">=</span><span class="dl">"</span><span class="s2">0</span><span class="dl">"</span> <span class="nx">completed</span><span class="o">=</span><span class="dl">"</span><span class="s2">false</span><span class="dl">"</span><span class="o">&gt;&lt;</span><span class="nx">li</span><span class="o">&gt;</span><span class="nx">buy</span> <span class="nx">milk</span><span class="o">&lt;</span><span class="sr">/li&gt;&lt;/</span><span class="nx">todo</span><span class="o">&gt;</span>
<span class="o">&lt;</span><span class="sr">/ul&gt;&lt;/</span><span class="nx">todo</span><span class="o">-</span><span class="nx">list</span><span class="o">&gt;</span>

</code></pre></div></div>

<p>Ähnlich wie beim Hinzufügen von einem Todo, wird jedes Klickereigniss die Todo <em>ID</em> (Input Attribut, Zeile 6) weitergeben und die entsprechende Aktion (Zeile 17) abschicken.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//src/todo.ts</span>
<span class="p">@</span><span class="nd">Component</span><span class="p">({</span>
  <span class="na">selector</span><span class="p">:</span> <span class="dl">'</span><span class="s1">todo</span><span class="dl">'</span><span class="p">,</span>
  <span class="na">inputs</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">completed</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">id</span><span class="dl">'</span><span class="p">],</span> <span class="c1">//attributes</span>
  <span class="na">template</span><span class="p">:</span> <span class="s2">`
   &lt;li (click)=”onTodoClick(id)” ...&gt;
     &lt;ng-content&gt;&lt;/ng-content&gt;
   &lt;/li&gt;`</span>
<span class="p">})</span>
<span class="k">export</span> <span class="kd">class</span> <span class="nc">Todo</span> <span class="p">{</span>
 <span class="nf">constructor</span><span class="p">(</span>
   <span class="p">@</span><span class="nd">Inject</span><span class="p">(</span><span class="err">‘</span><span class="nx">AppStore</span><span class="err">’</span><span class="p">)</span> <span class="kr">private</span> <span class="nx">appStore</span><span class="p">:</span> <span class="nx">AppStore</span><span class="p">,</span>
   <span class="kr">private</span> <span class="nx">todoActions</span><span class="p">:</span> <span class="nx">TodoActions</span>
 <span class="p">){</span> <span class="p">}</span>

 <span class="kr">private</span> <span class="nf">onTodoClick</span><span class="p">(</span><span class="nx">id</span><span class="p">){</span>
   <span class="k">this</span><span class="p">.</span><span class="nx">appStore</span><span class="p">.</span><span class="nf">dispatch</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">todoActions</span><span class="p">.</span><span class="nf">toggleTodo</span><span class="p">(</span><span class="nx">id</span><span class="p">));</span>
 <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<p>*TypeScript-Tipp: Bei privaten oder öffentlichen Modifikatoren in den Konstruktorargumenten handelt es sich um eine Verknüpfung zum Deklarieren privater oder öffentlicher Objekte (Zeilen 12-13). Siehe private / öffentliche Modifikatoren.</p>

<p>Das Umschalten des ersten Beispiels würde zu folgender Aktion führen:</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="nl">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">TOGGLE_TODO</span><span class="dl">'</span><span class="p">,</span>
  <span class="nx">id</span><span class="p">:</span> <span class="mi">0</span>
<span class="p">}</span>

</code></pre></div></div>
<p>Wie zuvor wird der Versand der Aktion den reducer ausführen und einen neuen Zustand schaffen.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//src/rootReducer.ts</span>
<span class="k">case</span> <span class="nx">TodoActions</span><span class="p">.</span><span class="nx">TOGGLE_TODO</span><span class="p">:</span>
 <span class="k">return</span> <span class="p">{</span>
   <span class="na">todos</span><span class="p">:</span> <span class="nf">toggleTodo</span><span class="p">(</span><span class="nx">state</span><span class="p">.</span><span class="nx">todos</span><span class="p">,</span> <span class="nx">action</span><span class="p">),</span>
   <span class="na">currentFilter</span><span class="p">:</span> <span class="nx">state</span><span class="p">.</span><span class="nx">currentFilter</span>
 <span class="p">};</span>
<span class="p">...</span>
<span class="kd">function</span> <span class="nf">toggleTodo</span><span class="p">(</span><span class="nx">todos</span><span class="p">,</span> <span class="nx">action</span><span class="p">){</span>
  <span class="c1">//map returns new array</span>
  <span class="k">return</span> <span class="nx">todos</span><span class="p">.</span><span class="nf">map</span><span class="p">(</span><span class="nx">todo</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="c1">//skip other items</span>
    <span class="k">if </span><span class="p">(</span><span class="nx">todo</span><span class="p">.</span><span class="nx">id</span> <span class="o">!==</span> <span class="nx">action</span><span class="p">.</span><span class="nx">id</span><span class="p">)</span>
      <span class="k">return</span> <span class="nx">todo</span><span class="p">;</span>
    <span class="c1">//toggle</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="na">id</span><span class="p">:</span> <span class="nx">todo</span><span class="p">.</span><span class="nx">id</span><span class="p">,</span>
      <span class="na">text</span><span class="p">:</span> <span class="nx">todo</span><span class="p">.</span><span class="nx">text</span><span class="p">,</span>
      <span class="na">completed</span><span class="p">:</span> <span class="o">!</span><span class="nx">todo</span><span class="p">.</span><span class="nx">completed</span>
    <span class="p">};</span>
  <span class="p">});</span>
<span class="p">}</span>

</code></pre></div></div>

<p>Die Helper-Funktion toggleTodo kreiert ein neues Array, welches das Todo-Matching der action.id abschaltet und den Rest beibehält.</p>

<h3 id="todos-filtern">Todos filtern</h3>
<p>Die Filter-Komponente ermöglicht es dem Benutzer zu filtern: alle, nur aktive oder nur abgeschlossene Todos. Wir verwenden FilterLink-Komponenten, um jeden Filter, der eine Kennung über den Attributfilter übergibt, zu verkapseln.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//src/filters.ts</span>
<span class="o">&lt;</span><span class="nx">filters</span><span class="o">&gt;</span><span class="nx">Show</span><span class="p">:</span>
  <span class="o">&lt;</span><span class="nx">filter</span><span class="o">-</span><span class="nx">link</span> <span class="nx">filter</span><span class="o">=</span><span class="dl">"</span><span class="s2">SHOW_ALL</span><span class="dl">"</span><span class="o">&gt;&lt;</span><span class="nx">a</span><span class="o">&gt;</span><span class="nx">All</span><span class="o">&lt;</span><span class="sr">/a&gt;&lt;filter-link</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">filter</span><span class="o">-</span><span class="nx">link</span> <span class="nx">filter</span><span class="o">=</span><span class="dl">"</span><span class="s2">SHOW_ACTIVE</span><span class="dl">"</span><span class="o">&gt;&lt;</span><span class="nx">a</span><span class="o">&gt;</span><span class="nx">Active</span><span class="o">&lt;</span><span class="sr">/a&gt;&lt;filter-link</span><span class="err">&gt;
</span>  <span class="o">&lt;</span><span class="nx">filter</span><span class="o">-</span><span class="nx">link</span> <span class="nx">filter</span><span class="o">=</span><span class="dl">"</span><span class="s2">SHOW_COMPLETED</span><span class="dl">"</span><span class="o">&gt;&lt;</span><span class="nx">a</span><span class="o">&gt;</span><span class="nx">Completed</span><span class="o">&lt;</span><span class="sr">/a&gt;&lt;filter-link</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/filters</span><span class="err">&gt;
</span>
</code></pre></div></div>
<p>Innerhalb von FilterLink passiert jedes Klickereignis den Filter (Eingabeattribut, Zeile 6) und sendet die entsprechende Filteraktion ab.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code>
<span class="c1">//src/filterLink.ts</span>
<span class="p">@</span><span class="nd">Component</span><span class="p">({</span>
 <span class="na">selector</span><span class="p">:</span> <span class="dl">'</span><span class="s1">filter-link</span><span class="dl">'</span><span class="p">,</span>
 <span class="na">inputs</span><span class="p">:</span> <span class="p">[</span><span class="dl">'</span><span class="s1">filter</span><span class="dl">'</span><span class="p">],</span> <span class="c1">//attribute</span>
 <span class="na">template</span><span class="p">:</span>
 <span class="s2">`&lt;a href=”#” (click)=”applyFilter(filter);”&gt;`</span> <span class="o">+</span>
   <span class="s2">`&lt;ng-content&gt;&lt;/ng-content&gt;`</span> <span class="o">+</span>
 <span class="s2">`&lt;/a&gt;`</span>
<span class="p">})</span>
<span class="k">export</span> <span class="kd">class</span> <span class="nc">FilterLink</span> <span class="p">{</span>

 <span class="kr">private</span> <span class="nf">applyFilter</span><span class="p">(</span><span class="nx">filter</span><span class="p">)</span> <span class="p">{</span>
   <span class="k">this</span><span class="p">.</span><span class="nx">appStore</span><span class="p">.</span><span class="nf">dispatch</span><span class="p">(</span>
     <span class="k">this</span><span class="p">.</span><span class="nx">todoActions</span><span class="p">.</span><span class="nf">setCurrentFilter</span><span class="p">(</span><span class="nx">filter</span><span class="p">)</span>
   <span class="p">);</span>
 <span class="p">}</span>
<span class="p">}</span>
</code></pre></div></div>
<p>Filtern mit Completed wird folgende Aktion generieren</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="p">{</span>
  <span class="nl">type</span><span class="p">:</span> <span class="dl">'</span><span class="s1">SET_CURRENT_FILTER</span><span class="dl">'</span><span class="p">,</span>
  <span class="nx">filter</span><span class="p">:</span> <span class="dl">'</span><span class="s1">SHOW_COMPLETED</span><span class="dl">'</span>
<span class="p">};</span>

</code></pre></div></div>

<p>Wie vorher wird der Versand der Aktion den Reducer ausführen und einen neuen Zustand schaffen.
In diesem Fall behalten wir die gleichen Todos und ändern den aktuellen Filter mit ausgelieferten Filter (Zeile 5).</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//src/rootReducer.ts</span>
<span class="k">case</span> <span class="nx">TodoActions</span><span class="p">.</span><span class="nx">SET_CURRENT_FILTER</span><span class="p">:</span>
 <span class="k">return</span> <span class="p">{</span>
   <span class="na">todos</span><span class="p">:</span> <span class="nx">state</span><span class="p">.</span><span class="nx">todos</span><span class="p">.</span><span class="nf">map</span><span class="p">(</span><span class="nx">todo</span> <span class="o">=&gt;</span> <span class="nx">todo</span><span class="p">),</span> <span class="c1">//map creates a new array</span>
   <span class="na">currentFilter</span><span class="p">:</span> <span class="nx">action</span><span class="p">.</span><span class="nx">filter</span>
 <span class="p">};</span>

</code></pre></div></div>

<h3 id="die-todo-liste-anzeigen">Die Todo-Liste anzeigen</h3>
<p>Wir verwenden eine untergeordnete Komponente  todo, um ein einzelnes Todo zu verkapseln, das einige Eigenschaften als Attribute (id, abgeschlossen) und die Beschreibung (Text) als Inhalt übergibt. Dieses Muster ist als <a href="https://medium.com/@learnreact/container-components-c0e67432e005" rel="noopener noreferrer nofollow" target="_blank">Container Component</a> bekannt.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//src/todoList.ts</span>
<span class="o">&lt;</span><span class="nx">ul</span><span class="o">&gt;</span>
 <span class="o">&lt;</span><span class="nx">todo</span> <span class="o">*</span><span class="nx">ngFor</span><span class="o">=</span><span class="err">”</span><span class="kd">let</span> <span class="nx">todo</span> <span class="k">of</span> <span class="nx">todos</span><span class="err">”</span>
   <span class="p">[</span><span class="nx">completed</span><span class="p">]</span><span class="o">=</span><span class="err">”</span><span class="nx">todo</span><span class="p">.</span><span class="nx">completed</span><span class="err">”</span>
   <span class="p">[</span><span class="nx">id</span><span class="p">]</span><span class="o">=</span><span class="err">”</span><span class="nx">todo</span><span class="p">.</span><span class="nx">id</span><span class="err">”</span>
 <span class="o">&gt;</span><span class="p">{{</span><span class="nx">todo</span><span class="p">.</span><span class="nx">text</span><span class="p">}}</span><span class="o">&lt;</span><span class="sr">/todo</span><span class="err">&gt;
</span><span class="o">&lt;</span><span class="sr">/ul</span><span class="err">&gt;
</span>
</code></pre></div></div>

<p>Wir verwenden <a href="https://v17.angular.io/api/common/NgForOf" rel="noreferrer noopener" target="_blank">ngFor</a>, um über den todos Array (Zeile 3) zu iterieren. Für jedes Todo geben wir die Information mit einer <em><a href="https://v17.angular.io/guide/template-syntax#!#local-vars" rel="noreferrer noopener" target="_blank">local template variable</a></em> Todo.</p>

<p>Im Folgenden siehst du einen Auszug aus der TodoList Komponente.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">//src/todoList.ts</span>
<span class="k">export</span> <span class="kd">class</span> <span class="nc">TodoList</span> <span class="kr">implements</span> <span class="nx">OnDestroy</span> <span class="p">{</span>
  <span class="nf">constructor</span><span class="p">(</span>
    <span class="p">@</span><span class="nd">Inject</span><span class="p">(</span><span class="dl">'</span><span class="s1">AppStore</span><span class="dl">'</span><span class="p">)</span> <span class="kr">private</span> <span class="nx">appStore</span><span class="p">:</span> <span class="nx">AppStore</span>
  <span class="p">){</span>
    <span class="c1">//subscribe listener to state changes</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">unsubscribe</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">appStore</span><span class="p">.</span><span class="nf">subscribe</span><span class="p">(</span><span class="kd">function</span> <span class="nf">listener</span><span class="p">(){</span>
      <span class="kd">let</span> <span class="nx">state</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">appStore</span><span class="p">.</span><span class="nf">getState</span><span class="p">();</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">todos</span> <span class="o">=</span> <span class="nx">state</span><span class="p">.</span><span class="nx">todos</span><span class="p">;</span>
    <span class="p">});</span>
  <span class="p">}</span>

  <span class="kr">private</span> <span class="nf">ngOnDestroy</span><span class="p">(){</span>
    <span class="c1">//remove listener</span>
    <span class="k">this</span><span class="p">.</span><span class="nf">unsubscribe</span><span class="p">();</span>
  <span class="p">}</span>
<span class="p">}</span>

</code></pre></div></div>

<ul>
  <li>Beachte, wie wir alle Komponenten-Eigenschaften und Hilfsprogramme als privat gehalten haben. Wir wollen nicht, dass andere Komponenten auf sie zugreifen.*</li>
</ul>

<h2 id="redux-lebenszyklus-review">Redux Lebenszyklus Review</h2>
<p>Lass uns überprüfen, wie sich eine Redux-Anwendung in verschiedenen Stadien verhält.</p>

<ul>
  <li>Application bootstrap: Wir initialisieren den appStore, der den rootReducer übergibt. Dadurch wird die interne Inbetriebnahme von appStore ausgelöst. Normalerweise führt das zu intitialState</li>
  <li>Komponentenerstellung: Wir injizieren appStore und TodoActions auf dem Konstruktor je nach Bedarf. Die Komponenten, die Daten anzeigen, subscriben zum appStore  und lesen ihn durch Aufruf von <a href="https://github.com/rackt/redux/blob/ec0b1a36e958584b7a11a5977734f04d05955c22/docs/api/Store.md#getState" rel="noreferrer noopener" target="_blank">appStore.getState</a>().Komponenten, die den Zustand mutieren, bereiten den Versandcode für die entsprechende Aktion vor, die alle erforderlichen Daten übergibt.</li>
  <li>Komponenten-Zerstörung: Komponenten, die Daten anzeigen,unsubscribe zum appStore, um Ressourcen zu bereinigen.</li>
  <li>Benutzerinteraktionen: Jede Benutzerinteraktion löst eine abschließende Versandaktion aus. Dies führt den RootReducer aus, der einen neuen Zustand erzeugt. Der AppStore benachrichtigt dann alle abonnierten Benutzer, die entsprechend aktualisiert werden.</li>
  <li>Bei vom Server initiierten Aktionen: Manche Anwendungen können Aktionen in Reaktion auf serverseitig initiierte Ereignisse versenden. Zum Beispiel: WebSockets. Diese Aktionen nach dem ordnungsgemäßen Setup folgen dem gleichen Fluss wie Benutzerinteraktionen.</li>
</ul>

<hr>

<div class="workshop-hint">
  <div class="h3">Puh - das muss ich mir genauer ansehen!</div>
  <div class="row mb-2">
    <div class="col-xs-12 col-md-6">
      <p>
        Gute Idee - vielleicht ist ja unsere <a target="_blank" href="https://workshops.de/seminare-schulungen-kurse/angular-enterprise-applications?utm_source=angular_de&amp;utm_campaign=tutorial&amp;utm_medium=portal&amp;utm_content=text-bottom-link">Angular
                                       Advanced Schulung</a> für dich das Richtige. Hier erstellen wir gemeinsam eine Beispiel-Anwendung mit ngRX und können individuell auf deine Anforderungen im Projekt eingehen.
      </p>
      <p class="text-center">
        <a target="_blank" href="https://workshops.de/seminare-schulungen-kurse/angular-enterprise-applications?utm_source=angular_de&amp;utm_campaign=tutorial&amp;utm_medium=portal&amp;utm_content=text-bottom-button">
          <button class="btn btn-danger">Mehr Informationen zur Schulung</button>
        </a>
      </p>
    </div>
    <div class="col-xs-12 col-md-6">
      <img class="img-fluid img-rounded" src="/assets/img/workshops/teilnehmer-workshop.png" alt="Teilnehmer:innen in der Veranstaltung Angular &amp; Typescript Intensiv Workshop/Schulung">
    </div>
  </div>
</div>
<hr>

<p>Dies ist eine Übersetzung und Überarbeitung von Gerard’s großartigem Artikel <a href="https://medium.com/google-developer-experts/angular-2-introduction-to-redux-1cf18af27e6e" rel="noopener noreferrer nofollow" target="_blank">Angular — Introduction to Redux</a></p>

<p>Benutze diese Links für die finalen Lösungen: <a href="https://embed.plnkr.co/6UJUYh7nbyU3TMS2Xd6l/" rel="noreferrer noopener" target="_blank">Demo</a> - <a href="https://plnkr.co/edit/6UJUYh7nbyU3TMS2Xd6l?p=preview" rel="noreferrer noopener" target="_blank">Source</a></p>

        </div>

        <div class="text-end">
          <a class="btn btn-sm btn-link link-secondary" href="https://github.com/workshops-de/angular.de/edit/master/_posts/2017-07-24-angular-redux-einfuehrung/2017-07-24-angular-redux-einfuehrung.md" target="_blank" rel="noopener noreferrer nofollow">
            🐛 Diesen Artikel auf GitHub verbessern
          </a>
        </div>
      </div>
      <div class="col-lg-4 d-none d-lg-block">
        <div class="position-sticky c-top-4 ms-2">
          <p class="text-muted text-uppercase"><small>Inhaltsverzeichnis</small></p>
          <nav id="toc" data-toggle="toc"></nav>
          <!-- <hr> -->
          <!-- <div>
            <div class="h5 mb-2">Email Newsletter</div>
            <p class="small mb-2">Um alle Neuigkeiten zu erfahren, abonniere hier unseren Newsletter!</p>
            <a class="btn btn-sm btn-primary" href="/newsletter/redirect/article" target="_blank">
              Newsletter abonnieren
            </a>
          </div> -->

          <div class="mt-4">
            <a href="https://ng-de.org?utm_source=angular_de&utm_campaign=conference2025&utm_medium=portal&utm_content=article_sidebar"
               target="_blank"
               class="d-block text-decoration-none">
              <div class="card border-0 shadow-sm h-100" style="transition: all 150ms;">
                <img src="/assets/img/ngde-conf-ad.png"
                     class="card-img-top rounded-top"
                     alt="NG-DE Conference - November 5-7, 2025"
                     style="object-fit: cover; height: 100%;">
                <div class="card-body p-3">
                  <h5 class="card-title text-dark fw-bold mb-2">NG-DE Conference</h5>
                  <p class="card-text text-muted small mb-2">
                    The community-driven Angular conference in Germany
                  </p>
                  <div class="d-flex align-items-center mb-2">
                    <i class="fa fa-calendar text-primary me-2" style="width: 12px;"></i>
                    <small class="text-muted">November 5-7, 2025</small>
                  </div>
                  <div class="d-flex align-items-center mb-3">
                    <i class="fa fa-map-marker text-primary me-2" style="width: 12px;"></i>
                    <small class="text-muted">Berlin</small>
                  </div>
                  <div class="d-flex justify-content-between align-items-center">
                    <span class="btn btn-primary btn-sm fw-bold text-uppercase" style="font-size: 0.7rem; letter-spacing: 0.05em; padding: 0.375rem 0.75rem;">
                      Get your ticket now!
                    </span>
                  </div>
                </div>
              </div>
            </a>
          </div>

          <style>
            .mt-4 a:hover .card {
              box-shadow: 0 0 4px 0 rgba(0,0,0,0.35) !important;
            }

            .mt-4 a:hover .card-title {
              color: #0d6efd !important;
            }
          </style>
        </div>
      </div>
    </div>
    <div class="row mt-4">
      <div class="col-md-12 col-lg-8">
        <!-- author info -->

<div class="row">
  <div class="col-sm-3 col-md-2">
    <span>
      <img alt="Gerard Sans" class="shadow-sm rounded img-fluid lazy"
      src="/shared/assets/img/placeholder-image.svg"
      
      data-src="/assets/img/gravatars/67c5b4074981e4c2b01566d95f9e0a28-160x160.jpg"
      data-srcset="/assets/img/gravatars/67c5b4074981e4c2b01566d95f9e0a28-160x160.jpg"
      
      >
    </span>
  </div>
  <div class="col-sm-9 col-md-10">
    <p class="h5 text-truncate mb-2">
      Gerard Sans
    </p>
    
      <p class="text-muted small">
        Google Developer Expert | Coding is fun | Just be awesome | Blogger Speaker Trainer Community Leader | @angular_zone @graphql_london @ngcruise Made in London ☂

      </p>
    
    <div>
      
      
        <a href="https://github.com/gsans" class="btn btn-sm btn-outline-secondary" target="_blank">Github</a>
      
      
      
    </div>
  </div>
</div>

        
      </div>
    </div>
  </article>

  <div class="container-fluid">
    <div class="row justify-content-md-center no-gutters mt-6">
      





  
  

  

  
    <div class="col-sm-6 p-0">
  <a class="ratio ratio-16x9 d-flex align-items-center c-img-bg-backdrop c-bg-img-cover-center lazy"
    style="background-image: url('/shared/assets/img/placeholder-image.svg');"
    href="/artikel/ng-de-conference-2025-ankuendigung/"
    data-style="background-image: url('/artikel/ng-de-conference-2025-ankuendigung/header.jpg')"
    >
    <div class="d-flex flex-column align-items-center justify-content-center px-4">
      <div class="text-center w-100 h2 text-white">
        NG-DE Conference 2025 wieder in Berlin
      </div>
      <button class="btn btn-outline-light">Hier weiterlesen</button>
    </div>
  </a>
</div>


    
    
  



  
  

  

  
    <div class="col-sm-6 p-0">
  <a class="ratio ratio-16x9 d-flex align-items-center c-img-bg-backdrop c-bg-img-cover-center lazy"
    style="background-image: url('/shared/assets/img/placeholder-image.svg');"
    href="/artikel/angular-tutorial-deutsch/"
    data-style="background-image: url('/artikel/angular-tutorial-deutsch/header.jpg')"
    >
    <div class="d-flex flex-column align-items-center justify-content-center px-4">
      <div class="text-center w-100 h2 text-white">
        Angular 20 Tutorial für Einsteiger
      </div>
      <button class="btn btn-outline-light">Hier weiterlesen</button>
    </div>
  </a>
</div>


    
    
      

    </div>
  </div>
</main>

  
<div class="newsletter-section d-print-none py-5">
  <div class="container">
    <p class="lead text-center">Du möchtest immer auf dem aktuellsten Stand sein? - Melde Dich für unseren Newsletter an!</p>
    <div class="text-center">
      <a class="btn btn-primary" href="/newsletter/redirect/footer" target="_blank">
        Jetzt für Neuigkeiten zu Angular anmelden!
      </a>
    </div>
  </div>
</div>


  <footer>
  <div class="container">
    <div class="row">
      <div class="col-6 col-sm-3 mb-2">
        <div class="h4 mb-2">Angular.DE</div>
        <small>
          <span class="fw-bolder">Powered by <a href="https://workshops.de?utm_source=angular_de&utm_campaign=crossmarketing_permanent&utm_medium=portal&utm_content=footer_nav">Workshops.DE</a></span>.
        </small>
      </div>
      <div class="col-6 col-sm-3 mb-2">
        <div class="h6 text-uppercase">Navigation</div>
        <ul class="footer-nav">
          <li><a href="/artikel/">Artikel</a></li>
          <li><a href="/tutorials/">Tutorials</a></li>
          <li><a href="/schulungen/">Schulungen</a></li>
          <li><a href="https://workshops.de/seminare-schulungen-kurse/angular-lifetime?utm_source=angular_de&utm_campaign=crossmarketing_permanent&utm_medium=portal&utm_content=footer_nav" target="_blank">Lifetime</a></li>
          <li><a href="/meetups/">Meetups</a></li>
          <li><a href="/team/">Team</a></li>
          <li><a href="/presskit/">Presskit</a></li>
        </ul>
      </div>
      <div class="col-6 col-sm-3 mb-2">
        <div class="h6 text-uppercase">Communities</div>
        <ul class="footer-nav">
          <li><a href="https://reactjs.de?utm_source=angular_de&utm_campaign=crossmarketing_permanent&utm_medium=portal&utm_content=footer_nav" target="_blank">ReactJS.DE</a></li>
          <li><a href="https://vuejs.de?utm_source=angular_de&utm_campaign=crossmarketing_permanent&utm_medium=portal&utm_content=footer_nav" target="_blank">VueJS.DE</a></li>
          <li><a href="https://cloudnative.eu?utm_source=angular_de&utm_campaign=crossmarketing_permanent&utm_medium=portal&utm_content=footer_nav" target="_blank">CloudNative.EU</a></li>
          <li><a href="https://a11y-masterclass.de?utm_source=angular_de&utm_campaign=crossmarketing_permanent&utm_medium=portal&utm_content=footer_nav" target="_blank">a11y Masterclass</a></li>
          <li><a href="https://workshops.de?utm_source=angular_de&utm_campaign=crossmarketing_permanent&utm_medium=portal&utm_content=footer_nav" target="_blank">Workshops.DE</a></li>
          <li><a href="https://www.coding-bootcamps.eu?utm_source=angular_de&utm_campaign=crossmarketing_permanent&utm_medium=portal&utm_content=footer_nav" target="_blank">Coding Bootcamp Europe</a></li>
          <li><a href="https://ng-de.org?utm_source=angular_de&utm_campaign=conference2025&utm_medium=portal&utm_content=footer_nav" target="_blank">NG-DE Konferenz</a></li>
        </ul>
      </div>
      <div class="col-6 col-sm-3 mb-2">
        <div class="h6 text-uppercase">Folge uns hier</div>
        <ul class="footer-nav">
          <li>
            <a href="https://twitter.com/angular_de" target="_blank" rel="noopener">Twitter</a>
          </li>
          <li>
            <a href="https://github.com/workshops-de" target="_blank" rel="noopener">GitHub</a>
          </li>
          <li><a href="/feed.xml" target="_blank" rel="nofollow">RSS-Feed</a></li>
        </ul>
      </div>
    </div>
    <hr />
    <div class="row align-items-center">
      <div class="col-6 small">
        Copyright © 2025 Symetics GmbH
      </div>
      <div class="col-6">
        <ul class="nav justify-content-end">
          <li class="nav-item">
            <a class="nav-link" href="/impressum/">Impressum</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/datenschutz/">Datenschutz</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</footer>

  
  

  
  <div class="alert alert-danger fixed-bottom mb-0">
    Meta Description too long (157 chars). Should be less than 156 chars.
  </div>
  

  
  


  <script type="text/javascript">
  (() => {

    function lazyLoadImages() {
      var lazyImages = [].slice.call(document.querySelectorAll("img.lazy"));

      if ("IntersectionObserver" in window) {
        let lazyImageObserver = new IntersectionObserver(function(entries, observer) {
          entries.forEach(function(entry) {
            if (entry.isIntersecting) {
              let lazyImage = entry.target;
              lazyImage.src = lazyImage.dataset.src;
              lazyImage.srcset = lazyImage.dataset.srcset;
              lazyImage.classList.remove("lazy");
              lazyImageObserver.unobserve(lazyImage);
            }
          });
        });

        lazyImages.forEach(function(lazyImage) {
          lazyImageObserver.observe(lazyImage);
        });
      } else {
        // Possibly fall back to a more compatible method here
        lazyImages.forEach(function(lazyImage) {
          lazyImage.src = lazyImage.dataset.src;
          lazyImage.srcset = lazyImage.dataset.srcset;
          lazyImage.classList.remove("lazy");
        });
      }
    }

    function lazyLoadBackgroundImages() {
      var lazyImages = [].slice.call(document.querySelectorAll("a.lazy"));

      if ("IntersectionObserver" in window) {
        let lazyImageObserver = new IntersectionObserver(function(entries, observer) {
          entries.forEach(function(entry) {
            if (entry.isIntersecting) {
              let lazyImage = entry.target;
              lazyImage.style = lazyImage.dataset.style;
              lazyImage.classList.remove("lazy");
              lazyImageObserver.unobserve(lazyImage);
            }
          });
        });

        lazyImages.forEach(function(lazyImage) {
          lazyImageObserver.observe(lazyImage);
        });
      } else {
        // Possibly fall back to a more compatible method here
        lazyImages.forEach(function(lazyImage) {
          lazyImage.src = lazyImage.dataset.src;
          lazyImage.srcset = lazyImage.dataset.srcset;
          lazyImage.classList.remove("lazy");
        });
      }
    }

    document.addEventListener("DOMContentLoaded", function() {
      lazyLoadImages();
      lazyLoadBackgroundImages();
      });
  })();
</script>

  <!-- JavaScript -->
  <script src="/shared/assets/js/vendor/jquery-3.2.1.slim.min.js"></script>
  <script src="/shared/assets/js/vendor/bootstrap.min.js"></script>
  <script src="/shared/assets/js/vendor/fp-3.0.0.min.js"></script>
  <script src="/shared/assets/js/vendor/headroom.min.js"></script>
  <script src="/shared/assets/js/app.js"></script>
  
  <script src="/shared/assets/js/vendor/bootstrap-toc-1.0.0.min.js"></script>
  
  
  
</body>

</html>
