<!DOCTYPE html>
<html lang="de">

<head prefix="og: http://ogp.me/ns# fb: http://ogp.me/ns/fb# article: http://ogp.me/ns/article#">
  <meta charset="utf-8">
  <link rel="dns-prefetch" href="//www.google-analytics.com">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta name="keywords" content="">

  <title>E2E Tests f√ºr Angular mit Cypress und TypeScript in unter 60 Minuten bereit f√ºr Continuous Integration | Angular.DE</title>
  
  <meta name="description" content="Cypress ist ein Framework zum Schreiben von E2E Tests. Wir werden unsere ersten E2E Tests schreiben und sie zur Ausf√ºhrung auf CircleCI vorbereiten.">
  

  
  <!-- Use canonical_url if available is post -->
  
  <link rel="canonical" href="http://localhost:4000/artikel/angular-cypress-typescript-e2e-testing/">
  
  

  

  <!-- Facebook Tags -->

  <meta name="og:title" content="E2E Tests f√ºr Angular mit Cypress und TypeScript in unter 60 Minuten bereit f√ºr Continuous Integration - Angular.DE">



  <meta property="og:description" content="Cypress ist ein Framework zum Schreiben von E2E Tests. Wir werden unsere ersten E2E Tests schreiben und sie zur Ausf√ºhrung auf CircleCI vorbereiten.">


<meta property="og:url" content="http://localhost:4000/artikel/angular-cypress-typescript-e2e-testing/" />

  <meta property="og:type" content="article" />



  <meta property="og:image" content="http://localhost:4000/opengraph/default.png" />


<!-- Twitter Tags -->
<meta name="twitter:card" content="summary_large_image">


  <meta name="twitter:title" content="E2E Tests f√ºr Angular mit Cypress und TypeScript in unter 60 Minuten bereit f√ºr Continuous Integration - Angular.DE">


<meta name="twitter:site" content="@angular_de">
<meta name="twitter:creator" content="@angular_de">

  <meta name="twitter:description" content="Cypress ist ein Framework zum Schreiben von E2E Tests. Wir werden unsere ersten E2E Tests schreiben und sie zur Ausf√ºhrung auf CircleCI vorbereiten.">


  <meta name="twitter:image" content="http://localhost:4000/artikel/angular-cypress-typescript-e2e-testing/header.jpg">



  <link rel="icon" href="/assets/img/favicon.ico?v=2" type="image/x-icon" />
  <link rel="stylesheet" href="/assets/css/app.css?1750255920177315000">
  
  <script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "Organization",
  "url": "http://localhost:4000",
  "logo": "http://localhost:4000/assets/img/logo.svg",
  "sameAs":[
    "https://twitter.com/angular_de"
  ]
}
</script>
  
<script type="application/ld+json">
{
  "@context": "https://schema.org",
  "@type": "BreadcrumbList",
  "itemListElement": [
    {
      "@type": "ListItem",
      "position": 1,
      "name": "Home",
      "item": "http://localhost:4000"
    },
    
      
    {
      "@type": "ListItem",
      "position": 2,
      "name": "Artikel",
      "item": "http://localhost:4000/artikel/"
    },
      
    
      
    {
      "@type": "ListItem",
      "position": 3,
      "name": "E2E Tests f√ºr Angular mit Cypress und TypeScript in unter 60 Minuten bereit f√ºr Continuous Integration"
    }
      
    
  ]
}
</script>
</head>

<!-- Position relative is for Bootstrap TOC Plugin -->

<body style="position: relative" data-bs-spy="scroll" data-bs-target="#toc">
  <div class="navbar-wrapper">
  
  <div class="navbar-banner">
    <div class="d-flex align-items-center justify-content-center">
      <a href="https://workshops.de/schulungsthemen/angular?utm_source=angular_de&utm_campaign=group_discount&utm_medium=portal&utm_content=banner" target="_blank">Wir bieten einen <b>3=2 Rabatt</b> auf Schulungen an! Buche 2 Teilnehmer:innen und der/die Dritte ist kostenfrei.</a>
    </div>
  </div>



  <nav class="navbar navbar-main navbar-expand-lg">
    <div class="container">
      <a class="navbar-brand p-0 me-4" href="/">
        <img alt="Angular.DE powered by workshops.de" src="/assets/img/logo-with-poweredby.svg" height="45">
      </a>
      <button class="navbar-toggler navbar-toggler-right" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav"
        aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse mt-3 mt-sm-0" id="navbarNav">
        <ul class="navbar-nav me-auto">
          <li class="nav-item active">
            <a class="nav-link" href="/artikel/">Artikel</a>
          </li>
          <li class="nav-item ">
            <a class="nav-link" href="/artikel/angular-tutorial-deutsch/">Tutorial</a>
          </li>
          <li class="nav-item ">
            <a class="nav-link" href="/schulungen/angular-intensiv/">Schulung</a>
          </li>
          <!-- <li class="nav-item">
            <a class="nav-link" href="https://workshops.de/seminare-schulungen-kurse/angular-lifetime?utm_source=angular_de&utm_campaign=crossmarketing_permanent&utm_medium=portal&utm_content=navigation" target="_blank">Lifetime</a>
          </li>-->
          <li class="nav-item ">
            <a class="nav-link" href="/ng-de-konferenz/">NG-DE Konferenz</a>
          </li>
          <li class="nav-item ">
            <a class="nav-link" href="/team/">Team</a>
          </li>
          <!-- <li class="nav-item">
            <a class="nav-link" href="/discord" target="_blank"><span class="visually-hidden">Community </span>Discord</a>
          </li> -->
          <!-- <li class="nav-item ">
            <a class="nav-link" href="/jobs/">Jobs</a>
          </li> -->
        </ul>
        <form class="form-inline d-none d-lg-inline" action="/suche/" method="GET">
          <input name="q" class="form-control navbar-search" type="search" placeholder="&#xF002;" autocomplete="off">
        </form>
      </div>
    </div><!-- .container -->
  </nav>
</div>


  


<main role="main" class="mt-4">
  <article lang="de" class="container">

    <div class="ratio mb-4" style="--bs-aspect-ratio: 30%;">
      <img src="header.jpg" class="rounded w-100 object-fit-cover" alt="Artikel Header Bild zu E2E Tests f√ºr Angular mit Cypress und TypeScript in unter 60 Minuten bereit f√ºr Continuous Integration" />
    </div>
    <div class="row mb-5 gx-6">
      <div class="col-md-12 col-lg-8 mb-2">
        <h1 class="header-post-title">E2E Tests f√ºr Angular mit Cypress und TypeScript in unter 60 Minuten bereit f√ºr Continuous Integration</h1>

        <p class="text-muted">
          <small>
            
            <a href="/kategorie/cypress/" class="badge bg-secondary text-bg-secondary text-uppercase">cypress</a>
            
            <a href="/kategorie/testing/" class="badge bg-secondary text-bg-secondary text-uppercase">testing</a>
            
            <a href="/kategorie/typescript/" class="badge bg-secondary text-bg-secondary text-uppercase">typescript</a>
            
            <span class="ms-1 me-1">|</span>
            David W√ºrfel
            
            <a href="https://twitter.com/MrCube42" target="_blank" style="margin-bottom: 5px;">
              <img src="/shared/assets/img/twitter-logo.svg" height="12" alt="Twitter Logo" />
            </a>
            
            
            <span class="ms-1 me-1">‚Ä¢</span> <time>30.03.2020</time>
            <span class="ms-1 me-1">|</span>
            


  13 Minuten


          </small>
        </p>


        <div class="c-content">
          <blockquote>
  <p>Der folgende Artikel m√∂chte zeigen, wie ihr <em>End-to-End Testing</em> f√ºr <em>Angular</em> mit <em>Cypress</em> und <em>TypeScript</em> aufsetzt. Wir werden erste E2E Tests schreiben und sie zur Ausf√ºhrung auf <em>CircleCI</em> als Continunous Integration System vorbereiten, sodass sie mit jedem Push auf euer Repository ausgef√ºhrt werden.</p>
</blockquote>

<h1 id="bevor-wir-starten-was-ist-ein-e2e-test">Bevor wir starten: Was ist ein E2E Test?</h1>
<blockquote>
  <p>End-to-End <em>(kurz E2E)</em> Testing ist eine Art des Software Testings, welches nicht nur das Software-System an sich validiert, sondern auch dessen Zusammenspiel mit externen Schnittstellen und deren Intergation. E2E Tests schreibt man, um vollst√§ndige Szenarien durchzuspielen, die einem Produktivsystem entsprechen.</p>
</blockquote>

<p><em>Quelle (frei √ºbersetzt): https://www.guru99.com/end-to-end-testing.html</em></p>

<h1 id="√ºberblick">√úberblick</h1>
<ul>
  <li><a href="#bevor-wir-starten-was-ist-ein-e2e-test">Bevor wir starten: Was ist ein E2E Test?</a></li>
  <li><a href="#%C3%BCberblick">√úberblick</a></li>
  <li><a href="#was-ist-cypress">Was ist Cypress</a></li>
  <li><a href="#vorbedingungen">Vorbedingungen</a></li>
  <li><a href="#cypress-aufsetzen">Cypress aufsetzen</a></li>
  <li>
<a href="#erste-tests">Erste Tests</a>
    <ul>
      <li><a href="#nutzerverhalten-testen">Nutzerverhalten testen</a></li>
    </ul>
  </li>
  <li>
<a href="#continuous-integration-aufsetzen">Continuous Integration aufsetzen</a>
    <ul>
      <li><a href="#circle-ci">Circle CI</a></li>
    </ul>
  </li>
  <li>
<a href="#fazit">Fazit</a>
    <ul>
      <li><a href="#quellen-und-hinweise">Quellen und Hinweise</a></li>
    </ul>
  </li>
</ul>

<p>Fr√ºher habe ich in der Frontend Entwicklung mit <a href="https://learn.microsoft.com/en-us/dotnet/desktop/wpf/?view=netdesktop-9.0" rel="noreferrer noopener" target="_blank">.NET und WPF von Microsoft</a> gearbeitet und erinnere mich noch gut an die Zeiten, in denen wir kostenintensive Frameworks zum Schreiben von End-to-End Tests f√ºr unsere Projekte evaluiert haben. Nach vielen Wochen, sogar Monaten der Evaluation, der Entwicklung von speziellem <em>Glue-Code</em> oder einer eigenen Test-Infrastruktur auf Basis existierender Werkzeuge, hatten wir es endlich geschafft, unsere E2E Tests zum Laufen zu bekommen. Leider waren sie ziemlich br√ºchig und sind oft fehlgeschlagen. Wir mussten h√§ndische Anpassungen machen oder hatten Probleme mit unzuverl√§ssigen Test-Runnern in unserer Continuous Integration Pipeline.</p>

<p>Ein paar Jahre sp√§ter mit <a href="https://angular.dev/" target="_blank">Angular</a> und <a href="https://www.protractortest.org/#/" rel="noreferrer noopener" target="_blank">Protractor</a> als voreingestelltem E2E Testing-Framework sind die Tests weiterhin basierend auf sogenannten <a href="https://www.protractortest.org/#/page-objects" rel="noreferrer noopener" target="_blank">Page Objects</a> und dem <a href="https://www.selenium.dev/" rel="noreferrer noopener" target="_blank">Selenium Web Driver</a>. Unzuverl√§ssig sind sie immer noch. Keine teuren, kommerziellen Frameworks oder ma√ügeschneiderte Infrastruktur war mehr notwendig. Aber hat es Spa√ü gemacht E2E Tests zu schreiben? Nein.</p>

<p>Mittlerweile sind wir aber im Jahr 2020 angekommen und die Zeit zum Aufstieg neuer Helden ist angebrochen. üöÄ</p>

<h1 id="was-ist-cypress">Was ist Cypress<a name="cypress"></a>
</h1>
<p><a href="https://cypress.io" rel="noreferrer noopener" target="_blank">Cypress</a> verspricht <em>schnelles, einfaches und zuverl√§ssiges Testing f√ºr Alles, was im Browser l√§uft</em>. Es basiert nicht auf dem Selenium Web Driver, der Netzwerk Verbindungen nutzt, um mit dem Browser zu interagieren. Stattdessen ist Cypress ein Test Runner, der <em>im Inneren</em> eures Browsers neben der Web Applikation l√§uft und darum direkten Zugriff auf diese hat.</p>

<p>Ohne an dieser Stelle auf alle Details einzugehen, ist dadurch Cypress nicht nur schneller und zuverl√§ssiger, es ebnet auch den Weg f√ºr viele weitere interessante Eigenschaften wie beispielsweise</p>
<ul>
  <li>Debugging mit Zeitreisefunktion</li>
  <li>Einfaches Aufzeichnen von Videos und Screenshots des Testlaufs</li>
  <li>Automatisierte Wartemechanismen</li>
</ul>

<p>Zus√§tzlich zu all diesen Besonderheiten hat Cypress eine <em>Developer Experience</em> (<em>DX</em>), die kaum zu toppen ist. Habt ihr jemals eine <a href="https://www.cypress.io/blog/2017/07/26/good-error-messages/" rel="noreferrer noopener" target="_blank">Fehlermeldung</a> gesehen, die euch genau sagt, was ihr falsch gemacht habt, euch aufzeigt, welche Abh√§ngigkeiten hinzugef√ºgt werden m√ºssen und euch dar√ºber hinaus noch zu einer verst√§ndliche Dokumentation leitet, die das Problem im Detail beschreibt? So f√ºhlt sich Cypress an: Es ist gemacht von Entwicklern f√ºr Entwickler.</p>

<p><img src="/shared/assets/img/placeholder-image.svg" alt="Cypress Fehlermeldung auf dem Build-Server, die genau sagt, wie der Fehler zu beheben sei" class="lazy" data-src="02-ci-error.png" data-srcset="02-ci-error.png"></p>

<p>Gleich werden wir Cypress f√ºr ein frisches, mit der CLI erstelltes Angular Projekt installieren. Wir werden ein paar E2E Test schreiben und sie am Ende von einem automatisierten Build-System laufen lassen. Die Gesamtheit dieser Schritte sollte nicht l√§nger als 60 Minuten in Anspruch nehmen. Wir werden versuchen, die Schritte so kurz wie m√∂glich zu halten und existierende Werkzeuge wie <a href="https://v17.angular.io/guide/schematics" rel="noreferrer noopener" target="_blank">Angular Schematics</a>, Bibliotheken oder bekannte Vorlagen zu unserem Vorteil einzusetzen.</p>

<h1 id="vorbedingungen">Vorbedingungen<a name="pre"></a>
</h1>
<p>Diese Anleitung setzt voraus, dass wir bereits mit einem standardm√§√üigen Angular 9 Projekt arbeiten. Falls dies noch nicht der Fall ist, k√∂nnen wir ein neues mit der <a href="https://v17.angular.io/cli/new" rel="noreferrer noopener" target="_blank">Angular CLI</a> erstellen. Wenn wir die CLI nicht global installiert haben, k√∂nnen wir uns den <a href="https://www.npmjs.com/package/npx" rel="noreferrer noopener" target="_blank"><code class="language-plaintext highlighter-rouge">npx</code></a> Befehl zu Nutze machen, der die CLI tempor√§r installiert:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npx @angular/cli new &lt;app-name&gt;
</code></pre></div></div>

<h1 id="cypress-aufsetzen">Cypress aufsetzen<a name="setup"></a>
</h1>
<p>Um Cypress zusammen mit TypeScript so schnell wie m√∂glich aufzusetzen, nutzen wir die vom <a href="https://www.npmjs.com/package/@cypress/schematic" rel="noreferrer noopener" target="_blank">Cypress-Team</a> entwickelte Schematic.</p>

<p>Im Wurzelverzeichnis des Angular Projekts √∂ffnen wir das Terminal und geben folgenden Befehl ein:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>ng add @cypress/schematic
</code></pre></div></div>

<p>Falls die CLI nicht global installiert ist, k√∂nnte es sein, dass der <code class="language-plaintext highlighter-rouge">ng</code> Befehl nicht direkt verf√ºgbar ist. Wir k√∂nnen den Aufruf des lokalen <code class="language-plaintext highlighter-rouge">ng</code> aus der <code class="language-plaintext highlighter-rouge">package.json</code> erzwingen:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Falls 'ng' allein nicht gefunden werden konnte</span>
npm run ng <span class="nt">--</span> add @cypress/schematic
</code></pre></div></div>

<p>Wir k√∂nnen ohne Bedenken Protractor entfernen, weil es vollst√§ndig ersetzt wird. W√§hrend der Installation werden ein paar Binardateien heruntergeladen, da der Cypress Test-Runner eine in <a href="https://www.electronjs.org/" rel="noreferrer noopener" target="_blank">Electron</a> gepackte Oberfl√§che ist.</p>

<p>Bei der Installation wurden zwei n√ºtzliche npm Skripte hinzugef√ºgt, die das Arbeiten mit Cypress komfortabler machen: Eins, um die E2E Tests mit, das andere, um die Tests ohne die Benutzeroberfl√§che auszuf√ºhren.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">    </span><span class="err">//</span><span class="w"> </span><span class="err">package.json</span><span class="w"> </span><span class="err">Skripte</span><span class="w">

    </span><span class="nl">"cypress:open"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cypress open"</span><span class="err">,</span><span class="w">
    </span><span class="nl">"cypress:run"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cypress run"</span><span class="w">
</span></code></pre></div></div>

<p>W√ºrde man eines dieser Skripte alleinstehend laufen lassen, w√ºrde der Test zun√§chst fehlschlagen, weil er versuchen w√ºrde auf <em>http://localhost:4200</em> zu navigieren, wo aktuell noch nichts bereitgestellt wird. Um das zu beheben, k√∂nnen wir ein zweites Konsolenfenster √∂ffnen und unsere Angular Applikation vorher mit <code class="language-plaintext highlighter-rouge">npm start</code> bereitstellen.</p>

<p>Gl√ºcklicherweise passt die vorherige Schematic den <code class="language-plaintext highlighter-rouge">e2e</code> Befehl so an, dass dies f√ºr uns automatisch von einem sogenannten <a href="https://v17.angular.io/guide/cli-builder" rel="noreferrer noopener" target="_blank">CLI Builder</a> durchgef√ºhrt wird. Mit folgendem Befehl liefern wir die Anwendung aus und lassen den Test dagegen laufen:</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm run e2e
</code></pre></div></div>

<p>Cypress erkennt, dass es zum ersten Mal ausgef√ºhrt wird. Es verifiziert seine Installation und f√ºgt ein paar grundlegende Beispieldateien hinzu. Nachdem die Oberfl√§che startet, k√∂nnen wir bereits einen Test sehen, der f√ºr uns erstellt wurde.</p>

<p><img src="/shared/assets/img/placeholder-image.svg" alt="Cypress Oberfl√§che nach cypress:open oder e2e" class="lazy" data-src="03-cy-open.png" data-srcset="03-cy-open.png"></p>

<p>Der Test wird ausgef√ºhrt, sobald wir ihn ausw√§hlen. Initial wird er fehlschlagen, weil wir tats√§chlich noch nichts wirklich testen. Das werden wir nun beheben.</p>

<p><img src="/shared/assets/img/placeholder-image.svg" alt="Fehlschlagender Test, der aktuell noch nicht implementiert ist" class="lazy" data-src="04-cy-test.png" data-srcset="04-cy-test.png"></p>

<h1 id="erste-tests">Erste Tests<a name="tests"></a>
</h1>
<p>Wie von den Cypress <a href="https://docs.cypress.io/guides/references/best-practices.html" rel="noreferrer noopener" target="_blank">Best Practices</a> vorgeschlagen, setzen wir als ersten Schritt die <a href="https://docs.cypress.io/guides/references/best-practices.html#Setting-a-global-baseUrl" rel="noreferrer noopener" target="_blank">globale Basis-URL</a>, sodass wir diese Adresse nicht bei jeder Testausf√ºhrung duplizieren m√ºssen. Dazu f√ºgen wir die folgende Konfiguration der Datei <code class="language-plaintext highlighter-rouge">cypress.json</code> hinzu:</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="err">//</span><span class="w"> </span><span class="err">cypress.json</span><span class="w">
</span><span class="p">{</span><span class="w">
  </span><span class="nl">"baseUrl"</span><span class="p">:</span><span class="w"> </span><span class="s2">"http://localhost:4200"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div></div>

<p>Danach schreiben wir unseren ersten <a href="https://de.wikipedia.org/wiki/Smoke_testing" rel="noreferrer noopener" target="_blank"><em>Smoke Test</em></a>, der nur pr√ºft, ob der standardm√§√üige Titel der Applikation auf der Angular Startseite gesetzt ist. Dazu √§ndern wir den Inhalt von <code class="language-plaintext highlighter-rouge">spec.ts</code> auf folgenden:</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// spec.ts</span>
<span class="nf">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">smoke test</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nx">cy</span><span class="p">.</span><span class="nf">visit</span><span class="p">(</span><span class="dl">'</span><span class="s1">/</span><span class="dl">'</span><span class="p">);</span>
  <span class="nx">cy</span><span class="p">.</span><span class="nf">contains</span><span class="p">(</span><span class="dl">'</span><span class="s1">cypress-e2e-testing-angular app is running!</span><span class="dl">'</span><span class="p">);</span>
<span class="p">});</span>
</code></pre></div></div>

<p>Der Test startet, indem er zu unserer Basis-URL navigiert und nach einem beliebigem Element sucht, dass den Text <em>cypress-e2e-testing-angular app is running!</em> enth√§lt.</p>

<h2 id="nutzerverhalten-testen">Nutzerverhalten testen</h2>
<p>Obwohl dieser Test bereits funktioniert, m√∂chten wir nun etwas interaktivere schreiben. Weil E2E Tests von Natur aus langsamer sind als Unit Tests, ist es v√∂llig in Ordnung solche zu schreiben, die einen gesamten Ablauf eines Benutzerverhaltens bezogen auf eine Funktionalit√§t modellieren.</p>

<p>Nun wollten wir bespielsweise pr√ºfen, ob die Eigenschaften der eben erw√§hnten Startseite g√ºltig sind: Unsere Seite sollte ihren Titel anzeigen und darunter im Konselenfenster den Text <code class="language-plaintext highlighter-rouge">ng generate</code>. Klickt der Nutzer dann auf den <em>Angular Material</em> Button, wollen wir sicherstellen, dass das richtige Kommando <code class="language-plaintext highlighter-rouge">ng add</code> in der Konsolenansicht darunter erscheint.</p>

<p>Wir ersetzen den Inhalt unserer Testdatei mit folgendem Inhalt:</p>

<div class="language-ts highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// spec.ts</span>
<span class="nf">describe</span><span class="p">(</span><span class="dl">'</span><span class="s1">When Angular starting page is loaded</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
  <span class="nf">beforeEach</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">cy</span><span class="p">.</span><span class="nf">visit</span><span class="p">(</span><span class="dl">'</span><span class="s1">/</span><span class="dl">'</span><span class="p">);</span>
  <span class="p">});</span>

  <span class="nf">it</span><span class="p">(</span><span class="dl">'</span><span class="s1">has app title, shows proper command by default and reacts on command changes</span><span class="dl">'</span><span class="p">,</span> <span class="p">()</span> <span class="o">=&gt;</span> <span class="p">{</span>
    <span class="nx">cy</span><span class="p">.</span><span class="nf">contains</span><span class="p">(</span><span class="dl">'</span><span class="s1">cypress-e2e-testing-angular</span><span class="dl">'</span><span class="p">);</span>

    <span class="nx">cy</span><span class="p">.</span><span class="nf">contains</span><span class="p">(</span><span class="dl">'</span><span class="s1">.terminal</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">ng generate component xyz</span><span class="dl">'</span><span class="p">);</span>

    <span class="nx">cy</span><span class="p">.</span><span class="nf">contains</span><span class="p">(</span><span class="dl">'</span><span class="s1">Angular Material</span><span class="dl">'</span><span class="p">).</span><span class="nf">click</span><span class="p">();</span>
    <span class="nx">cy</span><span class="p">.</span><span class="nf">contains</span><span class="p">(</span><span class="dl">'</span><span class="s1">.terminal</span><span class="dl">'</span><span class="p">,</span> <span class="dl">'</span><span class="s1">ng add @angular/material</span><span class="dl">'</span><span class="p">);</span>
  <span class="p">});</span>
<span class="p">});</span>
</code></pre></div></div>

<p>Unsere Testreihe haben wir etwas umgestellt, indem wir einen <code class="language-plaintext highlighter-rouge">describe</code> Block hinzugef√ºgt haben, um alle Tests zu gruppieren, die sich auf unsere Startseite beziehen. Da wir in jedem Test die Basis-URL besuchen, haben wir dies in den <code class="language-plaintext highlighter-rouge">beforeEach</code> Aufruf verschoben. Zu guter Letzt kombinieren wir unseren existierenden Smoke Test mit dem Test f√ºr die Konsolenfenster-Ansicht der Startseite.</p>

<p>Es ist wichtig zu wissen, dass man die Ergebnisse der Cypress Anfragen nicht in Variablen zwischenspeichert, sondern stattdessen <a href="https://docs.cypress.io/guides/references/best-practices.html#Assigning-Return-Values" rel="noreferrer noopener" target="_blank">Closures</a> verwenden sollte. Dar√ºber hinaus w√§hlen wir aktuell unsere Element √ºber CSS Klassen oder sogar Textinhalt aus, was sehr br√ºchig sein kann. Hier wird empfohlen <code class="language-plaintext highlighter-rouge">data-</code> Attribute zur <a href="https://docs.cypress.io/guides/references/best-practices.html#Selecting-Elements" rel="noreferrer noopener" target="_blank">Auswahl von Elementen</a> zu nutzen.</p>

<p>Cypress hat eine Menge toller Funktionalit√§ten und M√∂glichkeiten. Wir k√∂nnen hier nicht alle von ihnen behandeln, da unser Fokus darauf liegt, einen ersten Startpunkt zu geben. Die sehr gute, offizielle Dokumentation liefert alle Informationen, wie man <a href="https://docs.cypress.io/guides/core-concepts/interacting-with-elements.html#Actionability" rel="noreferrer noopener" target="_blank">mit verschiedenen Elementen interagiert</a>.</p>

<p>Lassen wir unsere Testreihe nochmal laufen, sollten wir sehen, wie sich Cypress durch jedes Szenario durchklickt. Unsere 3 Pr√ºfungen sollten diesmal gelingen. ‚úî‚úî‚úî</p>

<p><img src="/shared/assets/img/placeholder-image.svg" alt="Unsere erste Cypress Testreihe erfolgreich laufen lassen" class="lazy" data-src="05-cy-workflow.gif" data-srcset="05-cy-workflow.gif"></p>

<h1 id="continuous-integration-aufsetzen">Continuous Integration aufsetzen<a name="ci"></a>
</h1>
<p>Aktuell laufen unsere Tests nur lokal, daher m√∂chten wir als N√§chstes eine kleine CI (<a href="https://de.wikipedia.org/wiki/Kontinuierliche_Integration" rel="noreferrer noopener" target="_blank">Continuous Integration</a>) Pipeline aufsetzen. Ein guter Weg sich darauf vorzubereiten, ist es, ein paar npm Skripte anzulegen und diese zu kombinieren, sodass das Build-System ein einziges Skript als Einstiegspunkt aufrufen kann. Wenn wir diese Methode verfolgen, k√∂nnen wir auch die CI Schritte vor dem Push auf den Server zuvor lokal ausprobieren. Weiterhin sind diese Skripte recht unabh√§ngig von einem tats√§chlich verwendeten Build-System.</p>

<p>Auf dem CI-Server m√ºssen wir den Webserver im Hintergrund starten und darauf warten, dass unsere Anwendung gebaut wird, was etwas dauern kann. Danach muss der Cypress Test-Runner gestartet werden, durch alle Tests gehen und nach Abschluss der Tests den Server herunterfahren. Praktischerweise gibt es daf√ºr das Hilfsmittel namens <em>start-server-and-test</em>, wie in der <a href="(https://docs.cypress.io/guides/guides/continuous-integration.html#Solutions)">Cypress Dokumentation</a> beschrieben.</p>

<div class="language-sh highlighter-rouge"><div class="highlight"><pre class="highlight"><code>npm <span class="nb">install</span> <span class="nt">--save-dev</span> start-server-and-test
</code></pre></div></div>

<p>Nachdem es installiert ist, k√∂nnen wir den Angular <em>serve</em> Befehl nutzen, der √ºber <code class="language-plaintext highlighter-rouge">npm start</code> aufgerufen wird und ihn mit dem <code class="language-plaintext highlighter-rouge">cy:run</code> Kommando verbinden, der die Tests ohne Start einer Benutzeroberfl√§che ausf√ºhrt.</p>

<div class="language-json highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="w">   </span><span class="err">//</span><span class="w"> </span><span class="err">package.json</span><span class="w"> </span><span class="err">Skripte</span><span class="w">
  </span><span class="nl">"start"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ng serve"</span><span class="err">,</span><span class="w">
  </span><span class="nl">"cy:run"</span><span class="p">:</span><span class="w"> </span><span class="s2">"cypress run"</span><span class="err">,</span><span class="w">
  </span><span class="nl">"e2e:ci"</span><span class="p">:</span><span class="w"> </span><span class="s2">"start-server-and-test start http://localhost:4200 cy:run"</span><span class="w">
</span></code></pre></div></div>

<p>Selbstverst√§ndlich k√∂nnte man auch einen Produktiv-Build nutzen oder vorher einen Build ausf√ºhren und die Applikation √ºber einen beliebigen Http-Server ausliefern. Allerdings m√∂chten wir es hier kurz halten und √ºberlassen diese Verbesserung dem Leser.</p>

<h2 id="circle-ci">Circle CI</h2>
<p>F√ºr unser Beispiel nutzen wir <a href="https://circleci.com/" rel="noreferrer noopener" target="_blank">CircleCI</a>, weil es sich gut mit GitHub integriert, weit verbreitet ist und eine freie Nutzung erlaubt. Die letztliche Wahl eines CI-Systems wie <a href="https://jenkins.io/" rel="noreferrer noopener" target="_blank">Jenkins</a> oder <a href="https://about.gitlab.com/" rel="noreferrer noopener" target="_blank">GitLab</a>(mit dem ich die meiste Erfahrung gesammelt habe) ist euch selbst √ºberlassen. Nachdem wir uns bei CircleCI angemeldet und unseren GitHub Account verbunden haben, k√∂nnen wir ein Repository ausw√§hlen und ein neues Projekt √ºber das CircleCI-Dashboard erstellen.</p>

<p>Um die Pipeline zu konfigurieren, k√∂nnten wir durch Auswahl einer Vorlage die <code class="language-plaintext highlighter-rouge">config.yml</code> selbst schreiben und sie auf unsere Bed√ºrfnisse hin anpassen, um schlussendlich unser E2E Skript aufzurufen. Erfreulicherweise bringt Cypress bereits eine <a href="https://github.com/cypress-io/circleci-orb" rel="noreferrer noopener" target="_blank">fertig nutzbare Konfiguration</a> (als sogenannten <a href="https://circleci.com/developer/orbs" rel="noreferrer noopener" target="_blank">Orb</a>) f√ºr CircleCI mit, welche bereits die Installation von Abh√§ngigkeiten, Caching und mehr beinhaltet. Bevor wir diese allerdings nutzen k√∂nnen, m√ºssen wir erst f√ºr CircleCI √ºber die <em>Organisation Settings</em> die <a href="https://github.com/cypress-io/circleci-orb#how-to-enable" rel="noreferrer noopener" target="_blank">Drittanbieter Runner aktivieren</a>:</p>

<div class="language-yml highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1"># circleci/config.yml</span>

<span class="na">version</span><span class="pi">:</span> <span class="m">2.1</span>
<span class="na">orbs</span><span class="pi">:</span>
  <span class="c1"># This Orb includes the following:</span>
  <span class="c1"># - checkout current repository</span>
  <span class="c1"># - npm install with caching</span>
  <span class="c1"># - start the server</span>
  <span class="c1"># - wait for the server to respond</span>
  <span class="c1"># - run Cypress tests</span>
  <span class="c1"># - store videos and screenshots as artifacts on CircleCI</span>
  <span class="na">cypress</span><span class="pi">:</span> <span class="s">cypress-io/cypress@1</span>
<span class="na">workflows</span><span class="pi">:</span>
  <span class="na">build</span><span class="pi">:</span>
    <span class="na">jobs</span><span class="pi">:</span>
      <span class="pi">-</span> <span class="na">cypress/run</span><span class="pi">:</span>
          <span class="na">start</span><span class="pi">:</span> <span class="s">npm start</span>
          <span class="na">wait-on</span><span class="pi">:</span> <span class="s1">'</span><span class="s">http://localhost:4200'</span>
          <span class="na">store_artifacts</span><span class="pi">:</span> <span class="kc">true</span>
</code></pre></div></div>

<p>Die Pipeline hat nur eine Aufgabe: F√ºhre alle E2E Tests aus. Der aktuelle Git-Branch wird ausgecheckt, alle Abh√§ngigkeiten inklusive Caching installiert, der Applikations-Server wird gestartet und die Tests werden ausgef√ºhrt. Zus√§tzlich werden standardm√§√üig Videos des Testdurchlaufs und Screenshots (im Falle von fehlschlagenden Tests) aufgezeichnet und am Ende als CircleCI Artefakte zur sp√§teren Analyse hochgeladen.*</p>

<p><img src="/shared/assets/img/placeholder-image.svg" alt="CircleCI Dashboard" class="lazy" data-src="06-circleci.png" data-srcset="06-circleci.png"></p>

<iframe class="" width="100%" height="315" src="https://www.youtube-nocookie.com/embed/w3BVGdNIhFg" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen=""></iframe>

<h1 id="fazit">Fazit<a name="summary"></a>
</h1>
<p>Die Schritte in dieser Anleitung sind sehr minimal gehalten. Ihr k√∂nntet euer existierendes Angular Projekt nutzen, ihr k√∂nnt die Konfiguration der Cypress Testreihen √§ndern oder deutlich mehr und aussagekr√§ftigere Tests schreiben. Dar√ºber hinaus k√∂nnte es euch n√ºtzen, npm Skripte f√ºr unterschiedliche Szenarien oder Umgebungen zu schreiben und nat√ºrlich die gesamte Build-Pipeline mit automatischen Codepr√ºfungen, Unit Tests, dem Bauprozess an sich oder der Auslieferung eurer Anwendung zu erweitern. Dennoch sollte dies ein erster Schritt sein, der zeigt, wie schnell ihr automatisierte End-to-End Tests heutzutage aufsetzen k√∂nnt.</p>

<p>Wartet, bis ihr eure ersten echten Cypress Tests f√ºr eure Anwendung schreibt. Ihr werdet Spa√ü haben!</p>

<p><img src="/shared/assets/img/placeholder-image.svg" alt="Animiertes Bild, das eine √ºberw√§ltigte Person zeigt" class="lazy center" data-src="08-mind-blown.gif" data-srcset="08-mind-blown.gif"></p>

<p>Ich hoffe, ihr konntet etwas n√ºtzliches aus dem Artikel ziehen. Bei Fragen oder Anmerkungen, lasst es mich wissen. R√ºckmeldung ist immer sehr willkommen!</p>

<p>Der Quellcode f√ºr diese Anleitung ist auf GitHub zu finden:
<a href="https://github.com/MrCube42/cypress-e2e-testing-angular" rel="noreferrer noopener" target="_blank">https://github.com/MrCube42/cypress-e2e-testing-angular</a></p>

<h3 id="quellen-und-hinweise">Quellen und Hinweise<a name="references"></a>
</h3>
<p>F√ºr andere CI-System k√∂nnte man unser vorher definiertes npm Skript nutzen. Jedoch m√ºssten wir uns dann um all die zus√§tzlichen Hilfsmittel selbst k√ºmmern. Falls ihr bereits eine weit entwickelte Pipeline habt, k√∂nnte es ein einfacherer Weg sein, nur dieses eine Skript zu integrieren.</p>

<ul>
  <li><a href="https://dev.to/angular/ci-ready-e2e-tests-for-angular-with-cypress-and-typescript-in-under-60-minutes-4f30" rel="noreferrer noopener" target="_blank">Englischer Originalartikel von David</a></li>
  <li><a href="https://v17.angular.io/docs" rel="noreferrer noopener" target="_blank">Offizielle Angular Dokumentation</a></li>
  <li><a href="https://github.com/briebug/cypress-schematic" rel="noreferrer noopener" target="_blank">Briebug Cypress Schematic</a></li>
  <li><a href="https://docs.cypress.io" rel="noreferrer noopener" target="_blank">Offizielle Cypress Dokumentation</a></li>
  <li><a href="https://circleci.com/" rel="noreferrer noopener" target="_blank">CircleCI</a></li>
</ul>

        </div>

        <div class="text-end">
          <a class="btn btn-sm btn-link link-secondary" href="https://github.com/workshops-de/angular.de/edit/master/_posts/2020-03-30-angular-cypress-typescript-e2e-testing/2020-03-30-angular-cypress-typescript-e2e-testing.md" target="_blank" rel="noopener noreferrer nofollow">
            üêõ Diesen Artikel auf GitHub verbessern
          </a>
        </div>
      </div>
      <div class="col-lg-4 d-none d-lg-block">
        <div class="position-sticky c-top-4 ms-2">
          <p class="text-muted text-uppercase"><small>Inhaltsverzeichnis</small></p>
          <nav id="toc" data-toggle="toc"></nav>
          <!-- <hr> -->
          <!-- <div>
            <div class="h5 mb-2">Email Newsletter</div>
            <p class="small mb-2">Um alle Neuigkeiten zu erfahren, abonniere hier unseren Newsletter!</p>
            <a class="btn btn-sm btn-primary" href="/newsletter/redirect/article" target="_blank">
              Newsletter abonnieren
            </a>
          </div> -->

          <div class="mt-4">
            <a href="https://ng-de.org?utm_source=angular_de&utm_campaign=conference2025&utm_medium=portal&utm_content=article_sidebar"
               target="_blank"
               class="d-block text-decoration-none">
              <div class="card border-0 shadow-sm h-100" style="transition: all 150ms;">
                <img src="/assets/img/ngde-conf-ad.png"
                     class="card-img-top rounded-top"
                     alt="NG-DE Conference - November 5-7, 2025"
                     style="object-fit: cover; height: 100%;">
                <div class="card-body p-3">
                  <h5 class="card-title text-dark fw-bold mb-2">NG-DE Conference</h5>
                  <p class="card-text text-muted small mb-2">
                    The community-driven Angular conference in Germany
                  </p>
                  <div class="d-flex align-items-center mb-2">
                    <i class="fa fa-calendar text-primary me-2" style="width: 12px;"></i>
                    <small class="text-muted">November 5-7, 2025</small>
                  </div>
                  <div class="d-flex align-items-center mb-3">
                    <i class="fa fa-map-marker text-primary me-2" style="width: 12px;"></i>
                    <small class="text-muted">Berlin</small>
                  </div>
                  <div class="d-flex justify-content-between align-items-center">
                    <span class="btn btn-primary btn-sm fw-bold text-uppercase" style="font-size: 0.7rem; letter-spacing: 0.05em; padding: 0.375rem 0.75rem;">
                      Get your ticket now!
                    </span>
                  </div>
                </div>
              </div>
            </a>
          </div>

          <style>
            .mt-4 a:hover .card {
              box-shadow: 0 0 4px 0 rgba(0,0,0,0.35) !important;
            }

            .mt-4 a:hover .card-title {
              color: #0d6efd !important;
            }
          </style>
        </div>
      </div>
    </div>
    <div class="row mt-4">
      <div class="col-md-12 col-lg-8">
        <!-- author info -->

<div class="row">
  <div class="col-sm-3 col-md-2">
    <span>
      <img alt="David W√ºrfel" class="shadow-sm rounded img-fluid lazy"
      src="/shared/assets/img/placeholder-image.svg"
      
      data-src="/assets/img/gravatars/be7a533ce3eebedc29c2fc8fbab288ad-160x160.jpg"
      data-srcset="/assets/img/gravatars/be7a533ce3eebedc29c2fc8fbab288ad-160x160.jpg"
      
      >
    </span>
  </div>
  <div class="col-sm-9 col-md-10">
    <p class="h5 text-truncate mb-2">
      David W√ºrfel
    </p>
    
      <p class="text-muted small">
        David W√ºrfel studied Computer Science at the University of Trier and specialized in software engineering. His master thesis was about the usage of interactive small-scale visualizations for software debugging. He completed his master‚Äôs degree program with distinction as top of his class.

      </p>
    
    <div>
      
      
        <a href="https://github.com/MrCube42" class="btn btn-sm btn-outline-secondary" target="_blank">Github</a>
      
      
        <a href="https://twitter.com/MrCube42" class="btn btn-sm btn-outline-secondary" target="_blank">Twitter</a>
      
      
    </div>
  </div>
</div>

        
      </div>
    </div>
  </article>

  <div class="container-fluid">
    <div class="row justify-content-md-center no-gutters mt-6">
      





  
  

  

  



  
  

  

  



  
  

  

  



  
  

  

  



  
  

  

  



  
  

  

  



  
  

  

  



  
  

  

  



  
  

  

  



  
  

  

  



  
  

  

  



  
  

  

  



  
  

  

  



  
  

  

  



  
  

  

  



  
  

  

  



  
  

  

  



  
  

  

  



  
  

  

  



  
  

  

  
    <div class="col-sm-6 p-0">
  <a class="ratio ratio-16x9 d-flex align-items-center c-img-bg-backdrop c-bg-img-cover-center lazy"
    style="background-image: url('/shared/assets/img/placeholder-image.svg');"
    href="/artikel/stackblitz/"
    data-style="background-image: url('/artikel/stackblitz/header1.jpg')"
    >
    <div class="d-flex flex-column align-items-center justify-content-center px-4">
      <div class="text-center w-100 h2 text-white">
        Unit Tests mit Karma und Jasmine bei StackBlitz
      </div>
      <button class="btn btn-outline-light">Hier weiterlesen</button>
    </div>
  </a>
</div>


    
    
  



  
  

  

  



  
  

  

  



  
  

  

  



  
  

  

  



  
  

  

  



  
  

  

  



  
  

  

  



  
  

  

  



  
  

  

  



  
  

  

  



  
  

  

  



  
  

  

  



  
  

  

  



  
  

  

  
    <div class="col-sm-6 p-0">
  <a class="ratio ratio-16x9 d-flex align-items-center c-img-bg-backdrop c-bg-img-cover-center lazy"
    style="background-image: url('/shared/assets/img/placeholder-image.svg');"
    href="/artikel/angular-testing/"
    data-style="background-image: url('/artikel/angular-testing/header.jpg')"
    >
    <div class="d-flex flex-column align-items-center justify-content-center px-4">
      <div class="text-center w-100 h2 text-white">
        Tests in Angular - 9 Beispiele zeigen dir, wie es geht
      </div>
      <button class="btn btn-outline-light">Hier weiterlesen</button>
    </div>
  </a>
</div>


    
    
      

    </div>
  </div>
</main>

  
<div class="newsletter-section d-print-none py-5">
  <div class="container">
    <p class="lead text-center">Du m√∂chtest immer auf dem aktuellsten Stand sein? - Melde Dich f√ºr unseren Newsletter an!</p>
    <div class="text-center">
      <a class="btn btn-primary" href="/newsletter/redirect/footer" target="_blank">
        Jetzt f√ºr Neuigkeiten zu Angular anmelden!
      </a>
    </div>
  </div>
</div>


  <footer>
  <div class="container">
    <div class="row">
      <div class="col-6 col-sm-3 mb-2">
        <div class="h4 mb-2">Angular.DE</div>
        <small>
          <span class="fw-bolder">Powered by <a href="https://workshops.de?utm_source=angular_de&utm_campaign=crossmarketing_permanent&utm_medium=portal&utm_content=footer_nav">Workshops.DE</a></span>.
        </small>
      </div>
      <div class="col-6 col-sm-3 mb-2">
        <div class="h6 text-uppercase">Navigation</div>
        <ul class="footer-nav">
          <li><a href="/artikel/">Artikel</a></li>
          <li><a href="/tutorials/">Tutorials</a></li>
          <li><a href="/schulungen/">Schulungen</a></li>
          <li><a href="https://workshops.de/seminare-schulungen-kurse/angular-lifetime?utm_source=angular_de&utm_campaign=crossmarketing_permanent&utm_medium=portal&utm_content=footer_nav" target="_blank">Lifetime</a></li>
          <li><a href="/meetups/">Meetups</a></li>
          <li><a href="/team/">Team</a></li>
          <li><a href="/presskit/">Presskit</a></li>
        </ul>
      </div>
      <div class="col-6 col-sm-3 mb-2">
        <div class="h6 text-uppercase">Communities</div>
        <ul class="footer-nav">
          <li><a href="https://reactjs.de?utm_source=angular_de&utm_campaign=crossmarketing_permanent&utm_medium=portal&utm_content=footer_nav" target="_blank">ReactJS.DE</a></li>
          <li><a href="https://vuejs.de?utm_source=angular_de&utm_campaign=crossmarketing_permanent&utm_medium=portal&utm_content=footer_nav" target="_blank">VueJS.DE</a></li>
          <li><a href="https://cloudnative.eu?utm_source=angular_de&utm_campaign=crossmarketing_permanent&utm_medium=portal&utm_content=footer_nav" target="_blank">CloudNative.EU</a></li>
          <li><a href="https://a11y-masterclass.de?utm_source=angular_de&utm_campaign=crossmarketing_permanent&utm_medium=portal&utm_content=footer_nav" target="_blank">a11y Masterclass</a></li>
          <li><a href="https://workshops.de?utm_source=angular_de&utm_campaign=crossmarketing_permanent&utm_medium=portal&utm_content=footer_nav" target="_blank">Workshops.DE</a></li>
          <li><a href="https://www.coding-bootcamps.eu?utm_source=angular_de&utm_campaign=crossmarketing_permanent&utm_medium=portal&utm_content=footer_nav" target="_blank">Coding Bootcamp Europe</a></li>
          <li><a href="https://ng-de.org?utm_source=angular_de&utm_campaign=conference2025&utm_medium=portal&utm_content=footer_nav" target="_blank">NG-DE Konferenz</a></li>
        </ul>
      </div>
      <div class="col-6 col-sm-3 mb-2">
        <div class="h6 text-uppercase">Folge uns hier</div>
        <ul class="footer-nav">
          <li>
            <a href="https://twitter.com/angular_de" target="_blank" rel="noopener">Twitter</a>
          </li>
          <li>
            <a href="https://github.com/workshops-de" target="_blank" rel="noopener">GitHub</a>
          </li>
          <li><a href="/feed.xml" target="_blank" rel="nofollow">RSS-Feed</a></li>
        </ul>
      </div>
    </div>
    <hr />
    <div class="row align-items-center">
      <div class="col-6 small">
        Copyright ¬© 2025 Symetics GmbH
      </div>
      <div class="col-6">
        <ul class="nav justify-content-end">
          <li class="nav-item">
            <a class="nav-link" href="/impressum/">Impressum</a>
          </li>
          <li class="nav-item">
            <a class="nav-link" href="/datenschutz/">Datenschutz</a>
          </li>
        </ul>
      </div>
    </div>
  </div>
</footer>

  
  

  

  
  


  <script type="text/javascript">
  (() => {

    function lazyLoadImages() {
      var lazyImages = [].slice.call(document.querySelectorAll("img.lazy"));

      if ("IntersectionObserver" in window) {
        let lazyImageObserver = new IntersectionObserver(function(entries, observer) {
          entries.forEach(function(entry) {
            if (entry.isIntersecting) {
              let lazyImage = entry.target;
              lazyImage.src = lazyImage.dataset.src;
              lazyImage.srcset = lazyImage.dataset.srcset;
              lazyImage.classList.remove("lazy");
              lazyImageObserver.unobserve(lazyImage);
            }
          });
        });

        lazyImages.forEach(function(lazyImage) {
          lazyImageObserver.observe(lazyImage);
        });
      } else {
        // Possibly fall back to a more compatible method here
        lazyImages.forEach(function(lazyImage) {
          lazyImage.src = lazyImage.dataset.src;
          lazyImage.srcset = lazyImage.dataset.srcset;
          lazyImage.classList.remove("lazy");
        });
      }
    }

    function lazyLoadBackgroundImages() {
      var lazyImages = [].slice.call(document.querySelectorAll("a.lazy"));

      if ("IntersectionObserver" in window) {
        let lazyImageObserver = new IntersectionObserver(function(entries, observer) {
          entries.forEach(function(entry) {
            if (entry.isIntersecting) {
              let lazyImage = entry.target;
              lazyImage.style = lazyImage.dataset.style;
              lazyImage.classList.remove("lazy");
              lazyImageObserver.unobserve(lazyImage);
            }
          });
        });

        lazyImages.forEach(function(lazyImage) {
          lazyImageObserver.observe(lazyImage);
        });
      } else {
        // Possibly fall back to a more compatible method here
        lazyImages.forEach(function(lazyImage) {
          lazyImage.src = lazyImage.dataset.src;
          lazyImage.srcset = lazyImage.dataset.srcset;
          lazyImage.classList.remove("lazy");
        });
      }
    }

    document.addEventListener("DOMContentLoaded", function() {
      lazyLoadImages();
      lazyLoadBackgroundImages();
      });
  })();
</script>

  <!-- JavaScript -->
  <script src="/shared/assets/js/vendor/jquery-3.2.1.slim.min.js"></script>
  <script src="/shared/assets/js/vendor/bootstrap.min.js"></script>
  <script src="/shared/assets/js/vendor/fp-3.0.0.min.js"></script>
  <script src="/shared/assets/js/vendor/headroom.min.js"></script>
  <script src="/shared/assets/js/app.js"></script>
  
  <script src="/shared/assets/js/vendor/bootstrap-toc-1.0.0.min.js"></script>
  
  
  
</body>

</html>
